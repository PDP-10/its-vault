Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 30 DEC 86  18:34:20 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA13459; Tue, 30 Dec 86 18:19:45 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA28815; Tue, 30 Dec 86 18:10:59 est
Date: Tue, 30 Dec 86 18:10:59 est
From: terrapin!klotz@EDDIE.MIT.EDU (Leigh L. Klotz)
Message-Id: <8612302310.AA28815@terrapin.UUCP>
To: mit-klotz

        8/84 9/84 10/84 11/84 12/84 1/85 2/85 3/85 4/85 5/85 6/85 7/85 8/85
Klotz	4    0	  ?     ?     1     4    5    7    7    5    35   29   32
PGS	4    3    ?     ?     4	    7    5    7    11   0    42   0    0
Mark								  15   22
	9/85 10/85 11/85 12/85 1/86 2/86 3/86 4/86 5/86 6/86 7/86 8/86 9/86
Klotz   52   72    13	 26    51   4     -    -    -    - - 1    33   26
PGS     2    4     1     22    0    0     Broken Until July8 0    0    0
Mark    19   38    13    4     34   1     -    -    -    - - 3    7    0

        10/86 11/86 12/86
Klotz   5     9     22
PGS     0     0     0
Mark    0     0     0



Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 30 DEC 86  16:46:43 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA12546; Tue, 30 Dec 86 16:31:49 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA28593; Tue, 30 Dec 86 16:16:24 est
Date: Tue, 30 Dec 86 16:16:24 est
From: terrapin!klotz@EDDIE.MIT.EDU (Leigh L. Klotz)
Message-Id: <8612302116.AA28593@terrapin.UUCP>
To: mit-klotz

Patrick wrote this document in February of 1985.  It details problems
we had with the ISI development system.  We were trying to get
ISI to fix the problems we had with the machine.
--------------------------------

This is a file of complaints about the ISI  68K  system  that  we
bought  from  ISI in early June of 84, and received around August
1st, although Chuck Michaud, our salesman, had promised us 30-day
delivery.  We had chosen ISI over Sun mostly because Sun had told
us that delivery would take ninety days, and we had a very  time-
sensitive project, as we made clear to Chuck Michaud.  Since then
we have had numerous technical problems with the system.  I  will
trace  the history of each problem separately, although all actu-
ally happened simultaneously.

This is a synopsis of our tape drive problem to date.   From  day
one, we have never, ever, been able to do a full dump of our file
system to our Cipher tape drive.  We can write small tapes  using
tar,  and  we do, but we cannot run dump to do a full dump.  This
means that we cannot back up our entire file system; if we have a
disk  crash, we will have to spend large amounts of time recover-
ing from it, like weeks.

We expected to be able to do full  dumps;  the  capability  is  a
standard part of the version of Unix we are running (and all oth-
er versions of Unix, and, in fact, any other  operating  system).
It  is  very  important.   We  were  told  by our salesman, Chuck
Michaud, that the Cipher tape drive and software were fully func-
tional,  but  it  has  never,  ever worked.  ISI expects dumps to
work; they even document a careful schedule  of  dumps  in  their
System  Administrator's Guide, page 5-2, where they say, `Dumping
of the file systems should be done regularly, since once the sys-
tem  is  going it is easy to become complacent.  Complete and in-
cremental dumps are done with dump (8).'

We have had the Cipher tape drive checked out twice by Cipher be-
cause it has broken; both times they repaired a problem having to
do with a solenoid switch on the door, but this has nothing to do
with  the  write  errors  we get when we use dump.  It is still a
complaint, however!  We have had trouble pursuing the fix to  the
problem  because  the  tape  drive has been out being repaired --
when we have hardly ever even used it, because something else  is
wrong!

We spoke with Dave Wellington, ISI's  technical  support  person,
about  this  problem.   Chuck Michaud and the person at the other
end of ISI's telephone number told us he was the  correct  person
with  whom  to discuss it, and he also said that he was the right
person; he said that he was the technical  support  person  (lest
anyone  say, `why didn't you tell us?').  The first time we spoke
to Dave was during the first week of August, and we spoke to  him
several  more  times  (probably  between 5 and 10) during August,
about the problem.  He suggested that we  clean  the  tape  drive
heads  and rollers with alcohol on cotton swabs.  We did this re-
peatedly, and there was no improvement.  I told Dave that,  since
dump  always  got close to the end of the dump before failing, it
might be a problem with the detection of the  end-of-tape  condi-
tion;  but  Dave  said  that that didn't seem very likely.  Leigh
said to me at one point that it had become clear in  conversation
that  there  were no machines used at ISI configured the way that
ours was, with the Cipher tape drive and the  Maxtor  disk;  that
dumps were always done to cassettes there and not to tape.

Eventually (around October), Dave sent us a set of EPROMs that he
claimed  would fix the problem.  Another customer had had a simi-
lar problem, and the problem had been that the disk  controller's
DMA burst rate was so high that the tape drive had been unable to
seize the bus when it needed to and therefore was timing out  oc-
casionally, resulting in errors.  The fix in the EPROMs had fixed
that customer's problem, but that customer had a  different  tape
drive  controller  than  we  did.  Anyway, we tried using the new
EPROMs.  They didn't work -- the machine would not even boot with
them in place.

Although we complained right away that either  the  proposed  fix
didn't work or the EPROMs were bad, ISI did not send us a new set
of EPROMs.  Every time we called them they asked us if  we  could
burn  PROMs,  and  told us to change location 5 on the low prom's
contents to an 02, or something like that  (I  forget  the  exact
value,  but  it's  written down).  Every time we answered that we
could not burn EPROMs.  Leigh was the one communicating with them
at this time.  We never received new EPROMs.  Near the end of De-
cember, I spoke to Dave again, and because he  was  reluctant  to
send  us  a  new  set of EPROMs, I told him that I would make the
change, although it meant using MIT AI Lab  facilities.   I  made
the  proposed  change, verified that it was exactly what Dave had
said to do, and installed the  new  EPROMs.   The  system  worked
(would  boot) this time, but dump still didn't work -- that prob-
lem remained exactly the same.  Dave said that he  would  try  to
find  out what might be wrong, and get back to me, but he didn't.
I called again on December 31st, and was told that  Phyllis  Ford
was taking over Dave Wellington's customer interface responsibil-
ities.  I told Phyllis Ford of the problem.  She was very helpful
and made suggestions about how I could convince the tape drive to
run a dump with the door open, so that I can see if it is at  the
end of the tape when the problem occurs.  I have not been able to
do this, however, because the stupid tape drive has broken itself
again.   We are not breaking it.  I am an engineer and a research
specialist at MIT's AI Lab; I have worked  on  computer  hardware
for  a  long time, about five years, and I have (even!) installed
Cipher tape drives before.  I know darned well we are  not  doing
anything to harm this tape drive.  We don't even have occasion to
use it, because we cannot; we hardly touch it; so  we  could  not
possibly break it.

ISI forces us into a tremendously risky position, where our  work
could  be  set  back  by months, costing us a great deal in sales
(more than might be expected, because we need to have our new im-
plementation  out the door soon to capture a significant share of
the market for the machine it runs on), by not having  rememedied
this problem right away.

                *       *       *       *       *

From day one, we have known that there was something  wrong  with
the IO ports on the processor board.  We complained about this in
our first phone call to Dave Wellington; we told him that our Di-
ablo  printer  printed garbage at a certain point in the boot se-
quence.  Crucial information is printed during the boot sequence;
information  about what devices are responding, information about
the state of the file system, but we have no idea  what  informa-
tion is printed at that point, because we have never seen it, be-
cause we always get garbage then.

I told Dave that the baud rate might be wrong at that point.   He
said  he  would  look  into  it and get back to me; he never did.
During every call about the tape drive,  we  would  also  mention
this  problem.  Dave would always say that he would look into it,
but would never produce results.  I suggested  that  the  problem
might  be  a  bad crystal driving the clock that times the serial
port drivers, causing the baud rate to be higher than  it  should
be.  Dave said that the same clock was used for everything, so we
would notice the system clock being fast.   I  timed  the  system
clock  against  my very accurate Seiko quartz watch.  It was very
accurate; the difference would have been a  difference  in  frac-
tions of baud at 300 baud, so that was not the problem.

With further use of the system, we saw  that  occasionally  (when
running  programs that output quickly, such as fortune), we would
get noise on the Diablo when it was used as a terminal,  and  not
only  when it was the system console while we booted the machine.
When I told Dave that the system clock was not  fast,  that  that
was  not  the problem, he said that he would look into it and get
back to me, which he didn't.  The problem  would  not  have  been
crippling  to our software development efforts if all it had been
limited to the console serial port; it  would  simply  have  been
dangerous (because we could not read boot information) and incon-
venient.  However, when we bought a 1200 baud modem (a Racal Vad-
ic  VA3451, a top-of-the-line modem from the best manufacturer in
the business -- the MIT AI Lab and LCS use these  modems  to  the
exclusion  of  other  brands,  because  they  have a proven track
record of reliability, etc.) so that the machine  could  be  used
remotely,  we  found that we had the same problem over the modem,
but now it was more pronounced.  The modem was proven  to  be  in
good  working order; it worked perfectly with other machines, but
when connected to the ISI 68K processor's serial port, frequently
sequences  of  charcaters were turned into garbage in what looked
suspiciously like baud rate problems.  We read through the  Vadic
documentation  and  found that there was a switch we could set to
make the modem accept input at up  to  1219  baud.   We  set  the
switch,  and found that the problem was much less pronounced, but
it was still frequent enough so that editing over phone lines was
impossible, because the errors would destroy the screen image and
cause the cursor to be positioned randomly.  This resulted  in  a
great deal work being done during the fall, when both Leigh and I
were short on time to get over to Terrapin -- we had been depend-
ing  on  using  our  home  terminals to access the machine and do
work.

I told Dave Wellington about the problem, and he said, yes, well,
most  customers  don't  attach  modems to the serial ports on the
processor board; most  of  them  buy  DZV-11  serial  boards.   I
answered that we had known that the serial ports on the processor
board had modem control, and we did  not  need  a  $2000,  8-port
serial board; we only needed one port with modem control.  We had
been told that there were two serial ports with full  modem  con-
trol  on the processor; we assumed that ISI meant what they said,
and we planned accordingly, buying 4 more  serial  ports  without
modem  control.   We  are not doing something strange here; these
ports are supposed to work the way we are using  them;  they  are
ports that are supposed to have full modem control.  The ISI bro-
chure that we were given  by  Chuck  Michaud,  labelled  `Optimum
Series',  says,  under  the  heading  `Serial Ports', `Two serial
ports supporting RS232 or RS422 (up  to  19.2  Kb  asynchronous),
synchronous  communication with external clocks and modem control
support.  I have kept this brochure.

I got the impression from Dave that no one at ISI had extensively
tested the modem control on the serial ports, although it was ad-
vertised as working.  I suggested that he use an oscilloscope  on
the  output of the serial ports and determine what speed they are
actually transmitting at when they are supposed to  be  transmit-
ting  at  300  and  1200 baud, so that we could determine whether
this was only a problem in our processor board,  or  in  all  ISI
processor  boards.  He said that he would do this and get back to
me, but he never did.

Over the last five months, I have spoken to Dave about this near-
ly  every  time  I have called him.  I was not recording how many
times I called him, but it seems to me that I have spoken to  him
more  than ten times.  I definitely mentioned it when we spoke to
him the first week that we had our system, and  again  in  August
when  we  found that we were having trouble trying to use a modem
with our system.  I mentioned  it  again  to  Phyllis  yesterday,
January  2nd.   She  said  that  she  would meet with Dave in the
afternoon and ask him about it, and get back to me today, January
third.

By not looking into this problem and fixing it as soon as it  was
reported,  ISI has caused us to lose some of the functionality we
bought the machine for.  We had every expectation that ridiculous
bugs  like this would have been worked out of the system already.
They haven't been, and ISI has not been responsive  about  fixing
them.   Our  inability to use the computer remotely has cost us a
great deal in programmer time already, and delays the  completion
of our project.

                *       *       *       *       *

You wouldn't believe that they could have blown it on the C  com-
piler, would you?  Unix is an operating system written almost en-
tirely in C; one presumes that the C compiler works when one buys
a Unix system.  But ISI's didn't.

I mentioned earlier that our decision as to which system  to  buy
had come down to either Sun or ISI.  The main reason for this was
that both offered the most advanced version of Unix,  called  the
4.2 Berkeley Standard Distribution, supporting demand paging.  We
needed the demand paging because we were going to run  big  jobs.
We  wanted  4.2 BSD because it was the most modern Unix operating
system, and because, in ISI's case, it was the only one that sup-
ported paging.

The development system for the MacIntosh is  called  SUMACC.   It
comes  from  Stanford University, and is used around the country.
As user programs under Unix go, there is very little that is spe-
cial  about it; it includes a cross-compiler and some downloading
programs.  It runs under 4.2BSD on other machines, like Suns  and
VAXes.   The  cross-compiler is just a C program written in stan-
dard C.  We compiled the cross-compiler on our  system,  and  ex-
pected  to  run it with no trouble.  However, for some reason, it
wouldn't compile the test programs correctly when running on  our
ISI  system.   It  would  give spurious error messages and crash.
Leigh worked very hard at finding the problem, to  the  point  of
finding  exactly  what piece of the cross-compiler our (ISI) com-
piler had produced bad code for.  He  gave  this  information  to
Dave, who said he would get back to us about it.

We then bought CCA Emacs, an editor written in  standard,  normal
C.   We had used CCA Emacs at MIT under 4.2BSD on machines there.
We compiled it with our ISI compiler, and it didn't  work  --  it
wouldn't  display correctly, it would crash randomly; it wouldn't
accept commands.  We complained to CCA that they had sold us bro-
ken  software.   CCA responded right away by sending Barb Dieder-
ich, one of their programmers, over  to  Terrapin,  to  find  the
problem.   We gave her an account, and she worked for three days,
and finally found that the problem was not with Emacs --  it  was
that  ISI's  C  compiler was producing bad code.  Because we were
concurrently having trouble trying to bring SUMACC  up,  we  were
not surprised.

Barb and Leigh both figured out that ISI's  C  compiler  was  not
restoring  registers that were saved, when register char declara-
tions were used.  We told this to Dave.  He literally refused  to
believe  us.   We discussed the problem over a two-week period in
late August, and transferred files for which their compiler  pro-
duced  bad code to their machine, and bent over backwards to help
them, but they never did anything about it.  I  finally  went  to
speak  to  John  Wroclawski  at MIT about the problem.  John Wro-
clawski implemented the Portable C Compiler  (PCC,  which  almost
all Unix C compilers, including Berkeley's for the VAX and ISI's,
are based on) for the PDP-10, so I figured he  would  know  some-
thing about it.  He told me that PCC had always produced bad code
for register char declarations.  For this reason most of Unix did
not include them (which was why ISI was able to get their operat-
ing system to run at all), because  in  all  PCC  implementations
they  were  made no-ops -- they were `turned off'.  Such declara-
tions were  allowed,  however,  because  the  definition  of  the
language  specified  them, and people hoped that someday the com-
pilers would be fixed, but they  had  no  effect.   He  was  very
surprised that ISI had turned them on in their compiler, when all
C compiler hackers knew that they didn't work, that they produced
bad code.

Note that, just because such declarations are turned off in  most
C  compilers,  it  doesn't  mean  the user is expected not to use
them.  They are part of the C language, and they are used in many
applications  programs that are used in Unix, including, obvious-
ly, the two most important ones  for  our  purposes,  SUMACC  and
Emacs.  We had bought this machine because we were told that any-
thing written in standard C that worked under a  normal  4.2  BSD
would  work  on  it.  The programs we wanted to use both ran per-
fectly on VAXes and Suns.   But  because  ISI  had  turned  on  a
`feature' that was known by most people not to work, the programs
would not work on our ISI system.  This was  simply  incompetence
on  ISI's  part,  and it was incompetence that seriously crippled
our development effort and continues to do so.

Eventually, at the end of August, I became  very  frustrated  and
told  Dave  that  we were going to hire some of the people at MIT
who had written the original implementation of PCC for the  68000
to figure out what was wrong with ISI's compiler.  When they fig-
ured out what was wrong, I was going  to  present  ISI  with  the
bill.   I  told  Dave  that we were very sure we could stick them
with it, too.  Dave became cooperative and said that he would put
together  a  version of the C compiler in which register char de-
clarations were turned off, and he would do it that  very  night.
In  the  course of the conversation, I found out that ISI had not
written their C compiler, but had bought it from some  California
company,  and  that  Dave was the primary maintainer of it, which
indicates to me that they don't have anyone there who can  really
hack C compilers.

We transferred the new C compiler over, and recompiled Emacs.  It
worked.   I  told  this to Dave.  He was very impressed, and said
that they would change their C compiler to include  a  switch  to
turn  off register char declarations, because they clearly didn't
work.  This was our happiest interaction with ISI.   It  took  us
only  a  couple  of weeks and some pretty serious threats to con-
vince them to fix a broken piece of software, AFTER we  had  told
them EXACTLY what to change to fix it.  All Dave had to do to fix
the C compiler in the way we told him to was set  a  compile-time
switch.

However, we still cannot use the optimizer in ISI's  compiler  to
produce  optimized object code.  The optimizer is, again, part of
the standard Unix C compiler.  It makes compiled C  programs  run
faster.   ISI  provides one, but they seem to have gotten it from
the same company that they got their C compiler from, because it,
too, produces bad code.

I estimate that we have wasted about a month's worth of full time
work,  on  both  Leigh's  part and mine, in problems with ISI's C
compiler.  We have a product to get out the door.  We don't  have
that  kind  of time.  We also damaged Terrapin's credibility with
CCA.

                *       *       *       *       *

I started writing this file of complaints, when I have a  product
to  get  out  the door, because my work has come to a standstill.
My work is at a standstill because I cannot  debug  my  programs,
because  even  the obsolete debugger that ISI provides for debug-
ging compiled C code is broken.

When we bought the IS-68K, we were told that we would be  getting
a  complete 4.2 BSD.  We thought that that meant we would get the
dbx debugger, which is the standard debugger used under 4.2  BSD.
We  soon  noticed  that  we didn't have it.  Dave told us that it
wasn't yet ready.  We had no choice then but to use the primitive
adb debugger.

The first time I used adb I found that it never let  one  examine
byte  values.   I reported this to Dave at the end of August.  He
said he didn't think anyone had ever tried examining byte  values
before  (as  opposed to word values).  He said he would look into
it.  Then I found that it crashed when I attempted to get  it  to
print  out  strings.   I reported this, too, to Dave.  Three days
ago I found that adb crashes with a segmentation fault every time
it  attempts to disassemble a particular instruction.  I spoke to
Phyllis about this.  She doesn't know anything about adb but said
she  will  ask  Dave  about  it  and  get back to me.  I gave her
specific instructions on how to make it  crash,  and  transferred
the  file  of object code that makes it crash to ISI's machine in
California.

If we cannot disassemble code, we cannot set  breakpoints  so  we
can  debug  it.   If  we  cannot  debug  code,  we cannot develop
software.  The point is that every time we have tried to do  per-
fectly normal things that one would expect to do with a computer,
such as communicate with it over a phone line, back up  the  file
system,  compile  code,  and debug code, we have run into serious
problems that prevent us from proceeding.  The  only  time  these
problems  have  been fixed has been when we made threats and gave
very specific instructions about how to fix them.  We do not have
the  time  to  debug ISI's system, and that is not what we are in
business for, but we have been forced to spend a  great  deal  of
time  at  it.   I  have a great deal of experience with many dif-
ferent kinds of computers, running many different operating  sys-
tems,  and  I can state that the problems we are experiencing are
not normal -- they are not problems one can expect  to  encounter
when  one  buys  a  computer  and  an operating system.  In fact,
they're outrageous.

                *       *       *       *       *

3 Jan 85 -- Leigh and I measured the baud rate of characters com-
ing  out  of  the serial port we connect our modem to.  They were
coming out at slightly more than 1220 baud -- well above the nom-
inal 1205 baud that is the maximum that most devices expect.

I called Phyllis Ford because I was tired of waiting for  her  to
call  back, and I had tried to send logo over to their machine so
they could see how adb was broken, but I couldn't because I  kept
getting  errors  because adb was broken.  Phyllis called back and
said that dbx was almost finished, and we would  get  a  copy  as
soon as it was available.  I told her how we'd measured the char-
acters coming off the serial ports and she  said  she'd  talk  to
Dave  about  it; that they were going to see if they could repro-
duce the problem.

4 Jan 85 -- We got our tape drive back from Cipher.  I tried run-
ning  dump  with  the door open to see where it was when it lost.
We lost in the same way, and saw that dump was nowhere  near  the
end of the tape when it lost.  We also tried to send logo over to
ISI and lost again.  The file transfer  is  terribly  slow;  uucp
seems  to be sleeping almost as much as it is transferring.  Dave
said that they have another customer with a Ventel modem who  has
the same trouble, but won when he started using a DZ.  I told him
we didn't want a DZ, we're a small company, our salesman told  us
this would work, etc., and he agreed and said that they would try
to fix it.  He asked me to try reproducing the adb problem with a
smaller  file.   I  couldn't do this.  Following is the message I
sent Dave about it.

    From pgs Fri Jan  4 13:42:21 1985
    Received: by terrapin.UUCP (4.12/4.7)
            id AA00296; Fri, 4 Jan 85 13:42:01 est
    Date: Fri, 4 Jan 85 13:42:01 est
    From: pgs (Patrick Sobalvarro)
    Message-Id: <8501041842.AA00296@terrapin.UUCP>
    To: isi!david
    Subject: breaking adb
    Cc: pgs
    Status: RO

    Sorry about the null message (if you got it).

    I haven't been able to reproduce the problem with a smaller object file
    including the same code.  I'm willing to send you a tape of the object
    file, seeing as we don't seem to be able to win on the big transfer.
    Alternatively, if you can tell me how to split the object file into a
    sequence of smaller files, I'd be happy to do that.  We haven't had any
    trouble sending large groups of small files to other local machines
    (though it is slow).

    Here's the hard error dump gave me:

    ts0: hard error bn384 xs0=e8<MOT,ONL,IES,PED> xs1=8000<DLT> xs2=8000<OPM>
      xs3=20<REV>

    I tried again, and it gave this error (different only in the first field,
    which could be a log number for all I know):

    ts0: hard error bn386 xs0=e8<MOT,ONL,IES,PED> xs1=8000<DLT> xs2=8000<OPM>
      xs3=20<REV>

    dump itself prints out only `Tape write error on tape 1'.

    -Pat

I asked Dave to speak louder so I could understand the things  he
said,  because  our  business  phone  system  is rather poor.  He
misunderstood and thought that I was saying it was the  fault  of
our  phone  system,  and  said,  `No,  it's our fault.'  Dave and
Phyllis are sounding more cooperative; they said they  would  try
to put together a system like ours to reproduce the various prob-
lems we've had.


10 Jan 85 -- Phyllis (her last name  is  Swartz,  it  turns  out)
called  yesterday to tell me that dbx and the new C compiler were
ready, if we wanted to get them; Dave had said he  would  try  to
make  one for us that ignored register chars and register shorts,
but he didn't.  However, it seems that they  fixed  some  of  the
bugs  associated  with  them,  because  Emacs  pretty  much works
(without the optimizer turned on, that is) when compiled with it.
So the optimizer is still completely broken.

The new dbx doesn't quite seem to work; trace and  stop  get  bus
errors.   Phyllis  said  that  Dave and she hadn't put together a
system like ours to try to reproduce the tape drive problem  yet.
She  also  said  that they had come up with nothing on the serial
port problem.


11 Jan 85 -- The new dbx is so completely broken as to be  unuse-
able.   It works just fine on tiny programs, but loses completely
on Logo (a big program).  The problem really seems to have to  do
with  the  size  of  the program; what we get again and again are
segmentation faults.  Their memory management scheme involves the
use  of  a segmentation front end with a paged back end; segments
have a maximum size of 64K; and Logo and  the  debugger  together
are  probably  larger than 64K.  So it's just plain incompetence;
they haven't hacked the code to handle debugging large  processes
under  their  memory  management  scheme at all.  Of course, they
should have; the details of their memory  management  scheme  are
supposed  to be completely invisible to the user, who should sim-
ply see a 4 mb address space.

adb doesn't work any better yet, either.

I spoke to Phyllis Swartz again, and reminded her of  the  serial
port, tape drive, and debugger problems.  She said that she would
look into them, and reiterated the claim that they would try put-
ting  together a system to reproduce the problems we were having.
Becuase Dave had never answered my mail message, I suggested that
I  could  send  them a tape containing the code that demonstrated
the problems we were having, so they could reproduce them and de-
bug  the  debuggers.  She said that that would be great, that she
would make sure Dave would work on it; so that afternoon I made a
tape and wrote a letter containing an exact description of how to
invoke the bugs, and Federal Expressed it off to them.  I have  a
copy of the letter.


18 Jan 85 -- Having received no response from ISI about the  tape
I  sent  them, about the tape drive problems, or about the serial
port problems (all of which they were going to  get  back  to  me
about),  I  called  them this afternoon.  I spoke to Phyllis, who
said she hadn't received the tape, but then, after hunting around
on her desk, said, `Oh, here it is.'  She said that they had done
absolutely nothing about any of the problems  we've  experienced,
because  they've  been  getting ready for Usenix (the Unix user's
group conference), which is next week, all  week  long.   So  she
said they wouldn't be able to look at the problems we were having
until January 30th; I should call her then if she  hasn't  called
me,  and she'll `really get to work on Dave to fix these things.'
Phyllis is very nice, and quite friendly, and she  told  me  that
she  was  just  going to tell me that they had done none of these
things and wouldn't do them at least until the end of  the  month
because  she doesn't want to lie about it.  I appreciate her can-
dor, and I like her personally, but, basically, I'm pretty unhap-
py.


21 Jan 85 -- Because it may be time to  take  some  action  about
these problems sometime soon, Jock asked me to call ISI today and
try to get them to do something (even though all their people are
at  Usenix).   I spoke to Phyllis, and told her that we were very
distressed, that we have a product to get out the door, and  that
we  are  wondering what we can possibly do to make things better.
Phyllis said that she didn't know what to do, because  there  was
no  one  technical  around  -- they're all at Usenix.  I told her
again about all the different ways in  which  their  machine  has
been  horribly  broken,  about  all  the different times Dave has
promised us he would look into fixing it, and how we  have  never
yet  gotten any results.  She had no response except to reiterate
that their people were all at Usenix and that she had no idea how
to even go about approaching the problems.

Jock spoke to her then, and expressed our position more  clearly,
but  not,  perhaps,  as gently.  Eventually, as he was going over
the list of complaints, she asked him exactly  what  problems  we
were  having  with  dbx, so Jock handed me the phone.  I told her
that a very exact statement of the problems was in the letter ac-
companying  the  tape we sent them.  She said she hadn't read the
letter that far, because it had gotten very  technical  and  Dave
had  said  he would take care of it, but he'd had to go to Usenix
first.  I tried to explain to her in less technical English  what
the  problems  were.  I told her about my suspicion that it was a
bug having to do  with  memory  management.   She  repeated  that
everyone  was  at  Usenix,  and  I  told her that I knew that she
couldn't hack the code herself, but that we were just  trying  to
let  them know about the extremity of our despair, as Dante would
say.

Jock spoke to her again then.  The conversation  ended  with  her
promising him that someone would call here tonight, either her or
Dave Wellington, to discuss the situation.


21 Jan 85 -- Dave Wellington called from Dallas (where the Usenix
conference was being held).  Jock wasn't here, so I spoke to him.
He said, `I understand that you guys are pretty pissed  off.'   I
said  that  that  was  a fair way of putting it.  He told me that
Wendy would send me the new adb that very evening,  and  that  it
might  fix  our  problems with adb.  He said that he had read the
letter accompanying the tape I'd sent them, but  he  hadn't  done
what  I'd  told him to to invoke the bug -- he hadn't had time to
load the tape, he said, because he  was  getting  something  else
ready  for  Usenix.   He  didn't  specify  what.  He said that he
didn't feel bad about the dbx bugs, because we  had  a  beta-test
dbx  (which  is true), and certain things were known not to work.
I said that that was true, but we had had been given dbx when  we
were complaining that adb didn't work.

I told Dave that I thought that Jock might want to talk  to  him,
if  he'd  call  back later.  He said that Jock wasn't a technical
person, and that he wasn't interested  in  talking  about  things
that  weren't  technical.  He said that he if Jock just wanted to
complain at him, he wasn't in the mood for it.  I said that  they
had  been promising us technical solutions for some time now, and
that few of them had materialized,  and  those  that  had  hadn't
solved the problems.  He said that maybe Jock should speak to one
of the marketing people if he  wanted  to  explore  non-technical
solutions.   He  also said that Doug (their president) was at the
fair, and that Jock could arrange to talk to him, but  he  didn't
think that Doug was in the mood to be complained at just then.

He told me then that there had been an NBI  (?)  machine  at  the
fair, and he'd tried their dbx, and it had been broken much worse
than the one he gave us.  He told me that he talked to the person
who  had  hacked  it,  and that they had agreed that the problems
weren't in adapting it to run on a 68000, but  with  dbx  itself.
(dbx  does,  however, work perfectly on a VAX, and Sun and Apollo
both have it working on 68000's, I  believe,  so  I'd  say  that,
while  what  they're  attempting  might  be difficult, it clearly
isn't impossible).

I reminded him that we were having problems (he'd gotten a little
carried  away), and he reiterated the promise that Wendy (presum-
ably Wendy Thrash, who wrote  some  of  their  technical  blurbs)
would  send  us  a new copy of adb over the phone lines.  He then
said, ``Oh, wait,  I'd  forgotten  that  we  can't  transfer  big
files.'' I told him that the problem was in our machine transmit-
ting, not in our machine receiving.  I became a little angry  and
said  that  it was because the goddamned serial ports transmitted
too fast.  He said that he would be back at work on  Friday,  and
that  they were planning on testing a bunch of boards to find one
that transmitted within spec (he thought the RS232 spec was 1% or
so)  and send us that one as a swap.  I said that we would appre-
ciate that.  I asked him about the tape drive problems;  I  asked
if there were any other customers with Maxtors and TC02's and Ci-
pher tape drives out there.  He said there were, and they  hadn't
reported  any problems, but that they had divided their file sys-
tems into small partitions.  He said that there was no reason why
we  should  have  to do that, however; it should work the way our
file system is partitioned (which is good, because we  configured
it in accordance with their documentation).  He then said that he
would get to work on that problem when he got  back  to  work  on
Friday.

I told him that the last  location  that  adb  could  disassemble
seemed  to  move around depending on the size of the object file,
and asked if it might be a bug in  their  segmentation  code.   I
asked if it had been used on any large programs.  He said that it
had been used on some very big things, like the first pass of the
Fortran 77 compiler (which is much bigger than Logo).

He then said that it's the squeaky wheel that gets  greased,  and
that  it's  good that we're complaining, because we'll get atten-
tion that way.  He told me to send him computer mail telling  him
exactly  what the problems with adb were.  I reminded him that he
had a letter and a tape explaining in horrific detail exactly how
to  break it and how broken it is.  He said, oh, that's right.  I
told him that I would send him mail anyway, reminding him to find
us  a processor board with working serial ports, and to look into
fixing adb, and about the tape drive problem.  He said that  that
would be good, because he often forgets to take care of things if
he's not reminded.  I said that I believed that.

After I spoke to him, Wendy called up our machine and transferred
the  new  adb.   It  is broken in exactly the same way as the old
one.

25 Jan 85 -- Doug Swartz called Jock today, in  response  to  the
letter Jock sent him, probably because the letter scared him into
thinking that a lawsuit was coming.  After a little  while,  Jock
came  and put me on the phone, saying that Swartz was claiming to
him that, because he (Jock) is  not  technical,  his  programmers
have  been  lying  to him, telling him that our project is behind
schedule because of our  problems  with  ISI's  machine,  whereas
we're  actually  behind schedule because of our own incompetence.
Throughout all of the ensuing conversation, I  was  very  careful
not to say that the project isn't behind schedule.

I described for Mr. Swartz all of the problems we  had  had  with
the  machine.  I started by talking about our problems with their
C compiler.  He was clearly not on his own  ground  when  talking
about compilers, but he tried to say that CCA should not have put
register char and register short declarations in their  code,  if
no  Unix C compiler compiled them correctly.  I told him that all
Unix C compilers except for his  ignored  those  declarations  so
that  they  would  conform  to the definition of the language.  I
also explained that CCA's code had to run under  other  operating
systems,  such as VMS, whose compilers did produce good code con-
forming to these declarations.  He seemed to have been  surprised
at  the  idea that people wrote code that ran under both Unix and
VMS, as if he had always known that it was something that  people
spoke  of, and he had read about such things in books, but he had
never expected that it was something he might  encounter  in  his
life,  that  it was something that could affect a discussion that
he had a personal interest in.  Pardon me.  Writing these  things
is  boring, so I'm having a little fun.  But I am having accurate
fun -- these are exactly my impressions.

At some point he actually started to say that he  didn't  believe
that  there  could be anything wrong with his C compiler.  I said
that we had kept a copy, and we could easily demonstrate  exactly
how it generated bad code.  He then told me that they had sixteen
hundred systems out in the field, and that no  one  had  reported
this  problem to them before us.  He said that we couldn't expect
to find a better system.  I replied that Sun seemed to make  one.
He  became rather excited and told me that early Sun systems were
terrible, that he had some horror stories he could  tell  us.   I
didn't ask to hear them.

I told him about the trouble with our serial lines.  He said that
he  had  looked  up  the  RS232  standard, and it stipulated that
transmission rates need only be within 2.5 percent, and the  1220
baud we had measured was 1.7 percent off of 1200 baud.  Well, the
RS232 standard was probably written  in  1963  or  so,  when  the
fastest  lines  went  at  110 or 300 baud, and 2.5 percent wasn't
much.  I said that equipment nowadays expected, and usually  got,
speeds  much  closer  to  spec.  I said that I had never run into
this problem before, that everyone's hardware was  more  accurate
than  that,  and  that manufacturers had come to depend on it.  I
told him we were not using exotic or low-quality equipment,  that
we  were using Ann Arbor Ambassadors, a Xerox Diablo printer, and
a Vadic modem.  He said he realized it wasn't  exotic  equipment,
but  that  he  didn't see how we could claim that this had wasted
our time.  I said that we had expected to  be  able  to  use  the
machine  from  our  homes,  and  we  had been unable to, and thus
hadn't been able to program when otherwise we would have.

He then said that the problem was probably not the baud rates be-
ing  off,  that  it was probably a bad termcap entry (the termcap
database is the Unix database used by terminal-handling code).  I
said  that  it  was  clear  that there was nothing wrong with the
termcap database, because we used the  same  types  of  terminals
over  the  phone  lines and connected locally to our DLV-11J, and
they worked fine when connected to our DLV-11J.  I repeated  that
we  had measured the baud rate as being quite badly off.  He said
that maybe our scope wasn't well calibrated.  I said that it  was
possible  that  it  wasn't, but I bet that it was close enough so
that measuring something as slow  as  character  transmission  at
1220 baud it wouldn't matter (our oscilloscope (like most) is ca-
pable of measuring things at speeds  three  orders  of  magnitude
greater than that; it would have to be very seriously off to make
mistakes about transmission speeds).

I then said that the problems with the serial ports had also made
it  impossible for us to send long files over the phone lines us-
ing uucp.  I said that it spent more of its time recovering  from
transmission  errors  than  it  did sending, and it would finally
give up.  He began to say that that was a problem with  the  uucp
software, that it should be more robust with respect to transmis-
sion errors, that any reasonable  piece  of  software  should  do
handshaking.   I  said  that it of course did do handshaking, how
did he think it detected the transmission errors?  But of  course
it would give up after making no progress for two hours.  He said
that we didn't know for sure that it was because of the transmis-
sion  errors  that we were having these problems with uucp; maybe
it was a problem with the computer we were talking  to.   I  said
that  the  computer  we were talking to was his computer.  I then
said that the reason we knew that the  problems  we  were  having
with  uucp  were due to transmission errors was because Dave Wel-
lingtion had told us they were; I said we hadn't known  what  was
causing  the  problems  until we tried to transmit the files that
caused adb to break to their machine via uucp and had  had  prob-
lems,  and  Dave  had said that they were due to transmission er-
rors.

He then said that they had a fix for  the  serial  port  problem;
that  they  could adjust the ports so that they would transmit at
exactly the right speeds, and that they would do that and send us
a new processor board that evening.

I said that another problem we'd had that caused us  to  waste  a
lot  of  time  was that adb didn't work.  Amazingly, he seemed to
decide that he wouldn't budge  about  this  one,  that  he  would
claim,  no matter how bizarre he sounded as a result, that it was
not necessary to have even a  minimal  debugger  to  debug  one's
code.   He  started  by saying said that they had told us that we
had been given a beta-test version of the debugger, and  that  we
hadn't been told it would work.  I reminded him that that was dbx
he was talking about; that I hadn't expected dbx to work,  except
in the hopes that I could use it instead of their broken adb.  He
said that he had managed over three hundred Unix programmers, and
that half of them didn't even use adb, that real Unix programmers
used printf statements in their code.  As a tactical move on  his
part,  that  was brilliant.  I was bemused for several moments; I
couldn't speak, so he went on about his extensive  experience  at
managing Unix programmers.  I couldn't speak because I was trying
to decide whether I had figured Doug Swartz wrong from the begin-
ning;  I  had  thought  that  he  was simply an obnoxious, brain-
damaged Berkeley loser  who  was  very  afraid  of  an  impending
lawsuit,  but  now  I thought I saw for a second that he had been
playing a role all along, that it had all been pretense, that  he
had  slowly been building up my confidence in the authenticity of
the character he was playing so that he could now begin  to  make
totally  outrageous statements, statements that were really lines
from programmers' jokes, with a wink to Phyllis and a smile play-
ing  about  his lips even as he hollered into the phone, ``Now, I
have to keep reminding myself that the  customer's  always  right
--''.   Perhaps  he  was doing it so that I would be all the more
delighted when I saw the high satire in it all.

But then, with the sort of dawning horror  one  experiences  when
looking  at the earnest, twisted doodlings of a deranged child, I
realized that Mr. Swartz was not joking.  He actually wanted  me,
or maybe Jock, to believe that one shouldn't expect to be able to
use even the sort of tools that existed in 1960 to debug programs
on our shiny new Unix machine.  I mean, even the debugger Motoro-
la provides with the 68000  chip  set  (MacsBug)  is  capable  of
disassembling  code and allowing one to set breakpoints.  I mean,
you can do that with the debugger Apple provides in ROM on an Ap-
ple  II.  That is the minimum, lowest-level, most basic, machine-
language programming kind of way to do debugging, and one expects
it  to work; it is the thing one can always fall back on, even if
the symbolic source-language-hacking debuggers that  one  expects
to be able to use in this modern day and age don't work (and they
don't on our ISI machine; dbx is one of those).

Mr. Swartz was talking about Suns  now;  he  was  repeating  that
there were some horror stories to tell about early Suns, and they
had a fellow working for them who had worked from  a  company  in
Massachusetts,  a company called Automatix (Automatix is a robot-
ics research company; a lot of  MIT  people  consult  for  them).
They  had  had  16  early  Suns, and not half of them worked at a
time.  I said that I knew some people who worked at Automatix.  I
then told Mr. Swartz then that maybe I should give him an idea of
what my background was.  I told him that I had worked for the Ar-
tificial Intelligence Laboratory for seven years now, that I am a
systems programmer; I mentioned that some of the projects I  have
worked on were the Lisp Machine operating system, the ITS operat-
ing system for the PDP-10, and other operating systems  for  PDP-
11's.  I said that I am probably the most experienced customer he
had, and that any programmer I knew, and I  knew  lots  of  them,
would happily swear that it was crazy to say that one should have
to debug one's code by putting print statements in  it.   I  said
that I had done a fair deal of work in selecting, installing, and
maintaining systems, too, and that I was very qualified to  judge
whether  a system provided a reasonable level of performance, and
his simply didn't; there were some crippling problems with it.

Mr. Swartz seemed to become more cooperative  then.   He  stopped
saying  that  the problems we were having couldn't waste anyone's
time.  But it was ridiculous of me, he said, to  have  told  Jock
that  we  were  wasting hundreds or thousands of hours because of
the problems with our ISI system.  Jock interjected that  we  had
said  only  `over  one  hundred  hours', and that we were talking
about time we had lost over the entire period we had the machine,
not per week.

I described our tape drive problems to Mr. Swartz then.  He  said
that  a  work-around was available, that we could back up to tape
using tar.  I said that that was so, but we would prefer  to  use
the  standard  Unix utility, and that we occasionally experienced
problems using tar, as well.  He said that they would try to  du-
plicate  the  problem by putting together a system like ours that
very night.  He asked if we would be satisfied with  a  fix  that
allowed  us  to  run  dump if it required our re-partitioning our
file system into smaller partitions.  I said that that  would  be
okay.  He said that he would have Dave call me about it tomorrow.

Mr. Swartz then asked me what, as an  experienced  programmer,  I
thought of adb.  I said that it wasn't much, but we had to use it
because they didn't have dbx working.  He said, you can't use dbx
to  set  breakpoints?  I told him that one could set them, but it
never noticed them; it just ran right over them.  I repeated that
I  would be grateful for just the ability to disassemble code and
set breakpoints.  He said that he would get Dave to  work  on  it
when he got back from the show the next day.

He said one last time that he still didn't  see  that  all  these
problems, serious as they might be, should have caused us to lose
a lot of work.  He could understand it if the machine were crash-
ing every couple of hours, but it doesn't.  I said that I was im-
pressed with how well the operating system worked, and that I was
quite  happy  with many of the machine's features, but that there
were these crippling problems, like adb.  I didn't understand why
they  didn't  work; I guessed that there was just a bit of shoddy
workmanship slipping in there.

Mr. Swartz then repeated that they would send us a new  processor
board  with the baud rate problem fixed.  He said that they would
like us to send the old one back.  I said that we had been  plan-
ning on selling it.  He didn't laugh.  Jock said, of course we'll
send it back.


25 Jan 85 -- We did indeed get a new adb Friday night, and,  holy
moly, it's fixed.  I was completely thrilled.


30 Jan 85 -- We received a new processor board, a new  tape  con-
troller  board,  and  a new set of disk proms today.  I installed
them all.  The serial port problem is fixed; I  am  writing  this
using Emacs over a dialup from home, and, when the machine boots,
the list of on-line devices is printed  properly  on  the  system
console.  I'm pretty pleased.

The new tape controller board doesn't seem to solve  the  problem
with  dump,  however.  Phyllis says that she saw Dave use it four
times to dump a 60% full /usr file system on a machine  identical
to ours, and it worked perfectly.  She said she would call him up
(he's out of town) and find out what he  recommended  as  a  next
step.   I asked her to tell him that we're thrilled with our new,
working adb.  At the time, we didn't  know  yet  that  our  modem
problems were solved.

She called back an hour or so later and said that Dave  had  said
that he's completely stumped.  I said that I didn't know what the
next step should be, that Jock would have to  decide.   She  said
that  we  could  send  them our tape drive, and we would check it
out, but that if they found nothing wrong with it, she thought we
would  be  responsible  for  the cost of shipping.  I said that I
didn't know about that, but that I would talk to Jock and let her
know tomorrow what we'd decided.  She also said that they're set-
ting up a field service organization, but it wouldn't be  working
until  April, probably.  I told her that our product was supposed
to hit the market in April.  She said that if  someone  from  ISI
was  in  Massachusetts, they would come and check out our system.
She repeated that several times, as if she knew that someone from
ISI would be coming this way.  I imagine that it is possible that
she and her husband, old Doug, are going to come  and  visit  her
family  in  Sudbury or something, and are planning to come around
to Terrapin with shotguns.

Jock said that we could probably borrow a  tape  drive  from  the
people at Cipher.  He's going to call them about that.



























Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 30 DEC 86  16:38:34 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA12514; Tue, 30 Dec 86 16:23:59 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA28598; Tue, 30 Dec 86 16:16:29 est
Date: Tue, 30 Dec 86 16:16:29 est
From: terrapin!klotz@EDDIE.MIT.EDU (Leigh L. Klotz)
Message-Id: <8612302116.AA28598@terrapin.UUCP>
To: mit-klotz

We had numerous problems with the Apple Lisa computer we bought for
development.  We had originally intended to do all C development for
the Macintosh Logo project (and Terrapin's subsequent projects) on the
68000 development system Terrapin purchased.  We tried to buy a compiler
from a company called Green Hills Software since they seemed to have the
best available 68000 compiler.  They refused to sell it to us because
we didn't have a Sun brand computer, and that was all they wanted to
sell it for.

Fortuitously for us, Apple sought out Green Hills at about the same
time and asked them to write a compiler for the Lisa/Macintosh.  The
Green Hills people clued us in under the table, and we went to Apple.
After a while we got them to admit things and give us a beta test
version.

The Lisa arrived in bits and pieces.  Eventually we got the whole
thing together.  I found that it would crash after about ten minutes
of using the compiler.  Sometimes it would crash in the editor.  I
took it to a computer store (now defunct) and they poked at it, but
didn't do anything.

It still crashed every 15 minutes or so with parity errors.  I took it
to Tech Computer Store, and they said it had a bad memory board and a
bad I/O board and replaced them both, under warranty.  This fix reduced
the crashes to one every couple of days.  Sometimes when it crashed it
would erase the disk, and I would have to reformat it, re-install the
operating system, and download all the Logo files and recompile them.
Everything up to the Logo part required constant interactiona and took
about 1.5 hours.  Logo recompiled in about 6 hours.  I usually went home
then.

One day our disk stopped working.  Tech Computer took a few days to
get us a new one.

We still had crashes, though the software worked fairly well.  By
December of 1985, I had discovered that these crashes were out-of-memory
problems.  I removed the debugger, thus gaining more memory and making
Logo compile faster too.  That was fine until the machine crashed again,
and I had to pull the plug and lose the files again.

Within three months (we can check the Terrapin invoices) we had lost
the disk drive again.  Tech Computer replaced it under warranty, but
it was a number of weeks, I believe, before it was working again.


Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 30 DEC 86  16:38:24 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA12508; Tue, 30 Dec 86 16:23:41 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA28591; Tue, 30 Dec 86 16:16:05 est
Date: Tue, 30 Dec 86 16:16:05 est
From: terrapin!klotz@EDDIE.MIT.EDU (Leigh L. Klotz)
Message-Id: <8612302116.AA28591@terrapin.UUCP>
To: mit-klotz



August 16 1984
 We get our machine in working order.

September 8, 1984 - Dec 26 1984
I have no mail from this period.  Obviously we did work,
but the mail is apparently lost.  There was not as much work
in this period as there was before or after, though.

Jan 25 1985
We work on new, improved error messages.
Logo has been for some time running procedures on the development system.

Feb 26 1985
I merge Mac sources with Patrick's development sources.

April 6 1985
We discover that handling Mac desk accessories and the ABORT key
slows down Logo considerably, and do something about it.  Logo has been
progressing full stream ahead since early January.

April 1985
Dave Wellington of ISI (the manufacturer of our development system)
tells us that that our tape drive is running out of tape, and that
we must boot the system to reset it should it run out.  He tells
us a command to use as a prophylactic measure but is unable to offer
a real solution.

April 29 1985
I discover the a missing & has stalled work on the window system for
a while.  The compiler we were using generated no error message. (The
ones we got from Apple do.)

June 15 1985 
Work has continued.  Greg and I find the only significant
bug he located, in the garbage collector. (Well, mostly I found it.)

June 17 1985
Patrick gets LOCAL finished.  Mark sends his first bug report,
logged in as me.  I fix Mark's bug.

June 19 1985
We change the user interface to its present configuration, away from a
straight history mechanism with prompts.  LOAD and SAVE are working by now.

June 25 1985
Procedure formatting.

July 13, 1985
Work continues.  Mark joins bug-tlogo.

Jul 22 1985
The Lisa linker limits symbol names to 7 characters, a condition
straight out of the '60s.  There might be another linker one day, but I
haven't heard anything about it and I need to link this stuff now.  I
spend several days writing programs for converting names.  (The new compiler
that we received Oct 86 supports longer names.)

Auust 6 1985
Patrick remotely fixes a bug and implements WHOUSES, WHOCALLS, FILLARRAY.
He is in California.

September 8 1985
I continue to work on Logo.  Mark has become vociferous.  Patrick beats
him down, remotely.

September 25 1985
Help has been implemented.  I work on the window system primitives.
Mark finds bugs in them.  He tries them out too soon.  I find the source
of the "disappearing files" bug.  I later discover it documented in the
final version of the Apple documentation which we receive much later.

September 30 1985
The menu interface now works with picture files.

October 4 1985
Here is a message I sent about the problem I traced down on 9/25/85:
   From klotz  Fri Oct  4 19:34:27 1985
   Received: by terrapin.UUCP (4.12/4.7)
	   id AA08235; Fri, 4 Oct 85 19:34:27 edt
   Date: Fri, 4 Oct 85 19:34:27 edt
   From: klotz (Leigh L. Klotz)
   Message-Id: <8510042334.AA08235@terrapin.UUCP>
   To: bug-tlogo
   Subject: finding the volume number refnum for a given file path refnum

   I sent mail to apple asking them about the problem of doing a 
   FlushVol on a volume associated with a particular file when closing
   the file.  I also asked why doing a FlushFile with the file refnum
   didn't work.  They didn't say why the FlushFile didn't work, but said
   I could use GetVRefNum to get the volume refnum given a file refnum.

   That routine is not documented in Inside Mac, but does appear in the
   alphabetical listing of all operating system calls in the 6/15/85
   software suppliment.  I asked Apple where I should be finding out
   about these things, since it appears that I'm missing some documentation.

   Fortunately, the new Workshop C (also undocumented) has a routine called
   GetVRefN, which I diassembled.  I found out that file refnums, being
   previously black boxes, are actually indices into an object called the
   File Control Block Buffer.  The apple publication "Future Macintosh
   Architectures" warns not to make any assumptions about the size of
   a file control block in the file control block buffer.  It says that
   you cannot traverse the buffer.  However, in disassembling the code
   I found that the file refnum objects are indices into the buffer,
   so we don't have to worry.  I was wondering how workshop c could get
   around the warning, but I see now that we don't have to worry about
   it, since the warning says you can index into the first 30 (i.e., documented)
   bytes of an FCB that you have a pointer to.  

   This lossage is typical of the problems I'm facing these days.  Either
   it's not documented anywhere or it's documented and broken, or SUMACC
   doesn't implement it or implements it wrong.

   For instance, the Eject function is supposed to take two args, a string
   pointer and a volume refnum.  If the string is not null it ejects the
   disk with that name; otherwise it ejects the disk with the refnum.

   If I give it a string arg it ALWAYS ejects the system disk.  Similarly,
   the SetVol and GetVol routines which take similar args always give me
   a refnum of -1 (i.e., the first disk, -> the system disk) when I give
   them a string pointer.  Who knows?  So I wrote a routine that gets
   the volume refnum by looking in the volume control block.  Each
   volume control block has a pointer to the next, so there's no worry
   about changing sizes.  Also, the GetVRefNum routine access the same
   entry for the refnum that I access in the VCB object, so presumably the
   structure is ordained unchangeable for all time, at least to that
   point...

October 7, 1985
Double-clicking on Logo files works fine by now.


October 10, 1985
Here is some more mail from Apple, showing how disorganized the documentation
is.  Note in particular that the C compiler Apple supplied is is finally
available in release form, and that Apple admits that things which had been
causing me considerable trouble were not documented:

    Date:     Mon Oct 07, 1985  7:00 pm  EDT
    From:     MACTECH / MCI ID: 215-0798
    TO:     * Leigh L. Klotz, Jr. / MCI ID: 107-9937
    CC:       Scott Knaster / MCI ID: 263-0571
    Subject:  answer from (mb) about getting volume info

    	I asked yesterday how to get the volume refnum associated with a file
    	path refnum and was told to use GetVRefNum to get the volume refnum
    	Now that I've been told about it, I do see it in the 6/14/85 trap list
    	in the software suppliment, but there's no documentation on what it
    	does.  I guess I can figure it out by disassembling the version that
    	came with the latest Workshop C, which is, alas, undocumented also.

    	It's not in Inside Mac, either.
    	Am I missing out on some documentation somewhere?

    	Leigh Klotz
    	Terrapin, Inc.

      We apologise for the confusion - the call GetVRefnum call was only
    documented in the February Software Supplement (on page 17 of  "About
    the Software Supplement" dated 2/15/85).  Therefore, if you purchased the
    Supplement in the last few months (after the May release), you would not
    have gotten the documentation.  Other than that, the only way to check the
    syntax is to look at the Intrfc/Osintf.text file that is on MacSupplement 1.

    Here is the syntax:

    Pascal: FUNCTION GetVRefNum(pathRefNum: INTEGER; VAR vRefNum: INTEGER): OSErr;
    C:      OSErr GetVRefNum(pathRefNum,vRefNum)
                    short pathRefNum;
                    short *vRefNum;

    Routine explanation:  

    Given a path ref number in pathRefNum,  GetVRefNum returns the volume
    reference number in vRefNum.

    Possible errors:

            noErr           0       No error
            rfNumErr        -51     Bad reference number

      Please note other calls were added and changed in the Feb. Supplement.
    If you can't get a copy of the documentation, let us know. Of course, the
    final version of Inside Macintosh correctly (we hope) documents the calls.

    As for the structure of parameter blocks (in your last message),
    there is now an official release of C software and documentation (it
    just came out).  A letter was sent out late last week to Beta
    customers informing them how to get the official release (it will be
    available from Milestone, the mailing house).  The documentation
    explains the structure of parameter blocks.

     I hope this helps!

    END MESSAGE (mb).

October 20 1985
I am still working away steadily.  I do work on keeping desk accessories 
from running out of memory based on some sample programs we got from Apple.
They turn out to be wrong.

October 24 1985
Patrick starts working on implementing portable versions of some of
the things I have done to the Mac verion of Logo, and fixing bugs
which have turned up in his code.

November 8 1985
I find a horrible bug in the compiler Apple supplied.  It shakes my
confidence in the system.

    Received: by terrapin.UUCP (4.12/4.7)
	    id AA20049; Fri, 8 Nov 85 20:51:19 est
    Date: Fri, 8 Nov 85 20:51:19 est
    From: klotz (Leigh L. Klotz)
    Message-Id: <8511090151.AA20049@terrapin.UUCP>
    To: bug-tlogo

    I've been trying to get the GH logo to work for about 4 days now.
    I finally traced it down to 
      vscroll_associated_with_window(w)
    which expands into
      ((WindowPeek) w)->controlList
    was compiling into
      MOVE.L $9C(A2), D0
    instead of
     MOVE.L $8C(A2), D0

    but only when it was preceeded by another instruction referring
    to a structure element of the window --
      r = &window->portRect;
      MOVE.L $10(A2), A3

    Oops.  Note that $8C + $10 is $9C.  Turning off optimizations (-X9)
    makes the problem go away.  It also makes the compiler generate a lot
    of MOVE.L A1, A1 instructions.

    I'm recompiling it with the portRect instruction after the controlList
    one.  I'm worried about this compiler, though.  We're supposed to get
    a release version from Apple -- at least we sent them $180 for one.

    I sent a bug report to Paul Zemlin and Chris Brown.

December 2 1985
I continue to work on the Green Hills/Workshop C version of Logo.  I have
got the floating point working by now.  It takes a very long time to
compile the files, about 10-20 times longer than on our development system.
Paul Zemlin says a Mac-based version will be available for testing in
March 1985. (We receive it in October 1986!)  In the next week, I find
out how to make the Logo compile faster.  For the past month or so it
had been going so slowly I had approached a high-school student about
a job baby-sitting the compiler.
    Date: Mon, 2 Dec 85 17:38:26 est
    From: klotz (Leigh L. Klotz)
    Message-Id: <8512022238.AA06753@terrapin.UUCP>
    To: bug-tlogo

    I don't understand.  With the -X9 (turn off the peehole optimizer)
    option, the green hills compiler takes about 30 minutes to compile
    eval.c.  It produces a file that the linker doesn't like and hangs
    on forever or makes it give error messages.
    Without turning off the -X9 option, it takes just a couple of minutes.

    Paul Zemlin says the Mac-based compiler without the optimization bug
    will not be available for testing until March.

December 11 1985
I leave for Mississippi.

December 17 1885
I return from Missisippi.

Dec 17 1985
My fast-compilation thing backfires when I have to unplug the Lisa and
lost the filesystem.  One file compiles improperly still.
 	...
    I had to recompile init.c several times and still got a file
    that the linker didn't like and that dumpobj couldn't parse.
    I put "int fred = 3;" before the first function in the file
    and it compiled ok.

Dec 19 1985
I again lose the Lisa file system.  This has happened many times before.
    Date: Thu, 19 Dec 85 10:59:26 est
    From: klotz (Leigh L. Klotz)
    Message-Id: <8512191559.AA18384@terrapin.UUCP>
    To: bug-tlogo

    The Lisa file systems has developed an inconsistency that the
    scavenger doesn't fix.  The Maccom program, which transfers files
    from the lisa to Mac disks, reports the following error
    Error number -1, nextFreeEntry - master.nFiles: Serious readDir error!!..inconsistent directory
    Error message text not available.

    I remade the linked Logo three times and got the same error trying to transfer
    each new file.  Just as I was about to copy all the files off the disk and
    erase it, I decided to try one more thing.  I put in an unformatted disk
    in the drive and ran the Maccom program again.  It ejected the disk instead
    of giving the error.  I had an inkling that it was the floppy's filesystem
    that was trashed.  It was.


December 21, 1985
The Lisa breaks in hardware, but I am back the next day working with
our development system.
    From klotz  Sat Dec 21 17:26:30 1985
    Received: by terrapin.UUCP (4.12/4.7)
	    id AA20612; Sat, 21 Dec 85 17:26:30 est
    Date: Sat, 21 Dec 85 17:26:30 est
    From: klotz (Leigh L. Klotz)
    Message-Id: <8512212226.AA20612@terrapin.UUCP>
    To: bug-tlogo

    The Lisa disk just crashed.
    I'm going home.

December 23, 1985
Patrick looks at a bug I ask him to fix and pronounces it my bug.

December 24, 1985
I tell Patrick it is not my bug.

December 25, 1985
My mother dies.

December 26 1985
Patrick discovers the bug is in the compiler we use on our development
system.
    Received: by terrapin.UUCP (4.12/4.7)
	    id AA03506; Thu, 26 Dec 85 00:41:37 est
    Date: Thu, 26 Dec 85 00:41:37 est
    From: pgs (Patrick Sobalvarro)
    Message-Id: <8512260541.AA03506@terrapin.UUCP>
    To: bug-tlogo

    The sumacc (and our wonderful ISI machine's) printf is broken about
    printing small floats.  3.14159e-20 prints as 0.

    From pgs  Thu Dec 26 18:36:25 1985
    Received: by terrapin.UUCP (4.12/4.7)
	    id AA04683; Thu, 26 Dec 85 18:36:25 est
    Date: Thu, 26 Dec 85 18:36:25 est
    From: pgs (Patrick Sobalvarro)
    Message-Id: <8512262336.AA04683@terrapin.UUCP>
    To: bug-tlogo

    The bug printing fractions smaller than 1n19 is a bug in the 68000 C
    compiler's code for == comparison of floating point numbers.  This
    bug exists in both the ISI and Sumacc versions of the compiler; it
    doesn't exist on the Vax under 4.2 (but then again, the Vax does its
    floating point in microcode).  I'm not going to chase it down any
    further.

December 27 1985
Patrick does work on math functions.

December 29 1985
Patrick discovers that we cannot detect number overflow in math
routines (add, multiply) in C and makes a provisional fix.

29 Dec 1985
Our development Macintosh disk drive breaks.

January 1 1986
Patrick leaves for California for the month.  I go home and am sick
for about 4-5 days.
   From klotz  Wed Jan  1 04:09:46 1986
   Received: by terrapin.UUCP (4.12/4.7)
	   id AA02232; Wed, 1 Jan 86 04:09:46 est
   Date: Wed, 1 Jan 86 04:09:46 est
   From: klotz (Leigh L. Klotz)
   Message-Id: <8601010909.AA02232@terrapin.UUCP>
   To: bug-tlogo
   Subject: 1/1/86 Beta Test is now boarding

   It's ready for beta test.

January 2 1986
Mark complains (indirectly) that Logo math is too slow.
Mark discovers a bug with the printer.  It turns out we have
to use the printer driver, but we don't have documentation for
it.  (It arrives later in a software suppliment.)

January 3, 1986
Mark discovers the horrible bug that Jock called "a serious bug Mark
found within minutes."  Patrick and I, in trying to get arithmetic
overflow checking to work with the Apple ROM math routines, turned
on an error condition checker for "inexactness" in addition to overflow.
We didn't turn it off.  It caused Logo to give an error on every floating
point number that could not be represented exactly.

January 6 1986
Mark discovers that Help is broken on abbreviations.

January 6 1986
I return and begin fixing bugs.  The floating point thing was a minor
oversight and took all of 10 minutes to fix (mostly spent waiting on
the Lisa compiler.)

January 9 1986
I send mail to Apple asking for TER1 as the creator name for our
configuration program.  I also send mail asking about the hierarchical
file system.  It eventually takes the new Mac development system we
received in October, a new book from Apple that they didn't tell me about
and I saw in a book store, a message from some unknown person I got at
MIT in response to various help requests, and four days of trying things
in the new compiler to get this to work.

   Received: by terrapin.UUCP (4.12/4.7)
	   id AA08564; Thu, 9 Jan 86 02:10:45 est
   Date: Thu, 9 Jan 86 02:10:45 est
   From: klotz (Leigh L. Klotz)
   Message-Id: <8601090710.AA08564@terrapin.UUCP>
   To: bug-tlogo

   I sent mail to apple asking what to do about setprefix and
   the hierarchical file system.  I have two theories.  One is
   to allow
    SETPREFIX "FRED
   or 
    SETPREFIX [FRED BILLS BERNARD\ SILVERSMITH'S\ PHONE\ BILL\ FOLDER]

   The other is to use the standard apple pathname with colons in it.
    SETPREFIX "FRED:BILLS:BERNARD etc.

   Apple keeps saying not to make users use the above format.  I have
   a feeling that it might be easier to do the list thing because fi
   we can't get GetWRefNum code we might be able to do the right thing
   with successive calls to GetVRefNum and SetVol.

Here is Apple's response.  They do not answer my question, but instead
tell me to use the menus.
       GetVRefNum always returns a real VRefNum.  Working Directory Reference
       Numbers are not fixed for a given directory; instead the system creates
       them as necessary as a shorthand means of specifying the volume and
       DirID for a given directory in places where MFS simplu used the VRefNum.

       The WERefNum for teh default directory is reused every time a new
       default is specified.  This means Standard File uses the same one over
       and over (since it sets the default directory) and needs only one
       WDControl block.  Since the WDCB table is only big enough for 40 entires
       it is important to keep the number of WDRefNum entries to a minimum.

       Let the user set the current working directory by using standard file.
       You could either have them pick an arbitrary file inside that
       directory or add your own dialog procedure to std file that detects
       when the user has opened a folder.  See "The New, Improved Standard
       File" which comes with every HFS Programmers Package.


   WE DON'T HAVE THE HFS PROGRAMMER'S PACKAGE.  I don't know where it is.
   Maybe we stopped paying Apple for our Registered Technical Support and
   they aren't sending it to us.  I will ask Doris on Monday.

January 20 1986
Mark and I find bugs and I fix them.  The Lisa crashes again and I
set the date to September instead of January.  I find no way to recover
from the lossage and am forced to recompile all of Logo on the Lisa.

January 25 1986
We have trouble fitting Logo onto 400K disks.  I make the Help
file smaller using data compression techniques.

January 26 1986
I make a new release of the Beta Logo from January 1.  I leave it for
further testing.  I have added features and fixed bugs which we discovered
after January 1.

February 13 1986
From a message:
 Having used Logo at home for a while, I became convinced of the
 need for search.  Since Jock has decreed that Logo will not be
 sent out for testing until the shape editor is working and Mark
 was told not to work on the shape editor, I started one.  Mark started
 his again.
  ...
I implemented &S and &F for string search.  I use Logo at home and
write significant programs in it.  Mark continues to use Logo and
sends no mail for two weeks.

March 21 1986
I go away on vacation for one week.  Jock and Mark decide it is time
to send away the processor board from our development system for repair,
as the modem port has been broken for some time.

When the board gets back, we discover that our disk electronics is broken.
I try many times to get the machine to work.  I am told a new disk drive
will be over $3000.  I eventually talk to someone at the disk drive
company instead, and they offer to fix the electronics for $750, if it
is indeed the electronics and not a head crash.

July 17, 1986
We get our machine back to working.  Logo is saved, but I was unable
to make proper backups of the whole system because I didn't find out
until the night before I was to leave.  The backup system didn't
work right and if it had failed in a backup I would have had to reboot
and try again, so I decided just to make a safe copy of the entire
Logo sources.  Mark's documentation was backed up.

We lost improvements to EMACS and SUMACC (the C compiler from Stanford)
and a couple of utility programs like SEND.

August 1 1986
Apple tells us that they will no longer support the C compiler on
the Lisa, and that we will have to wait for the new compiler to
get support for HFS.  Jock wants HFS support.  (We wait until
mid October.)

August 8 1986
Mark finds some problems with the window system primitives.

August 21 1986
I leave a disk for Alison to test, prior to sending to as Gamma Logo.

August 27 1986
I fix some bugs in inconsequential primitives (like .CALL) and add
some features and new primitives that people have been asking for.

September 2 1986
I add more features, post-Gamma release.  Cursor keys for the Mac Plus,
for instance.

September 15 1986
I make lines wrap outside the editor, something I had discarded long ago as
difficult and confusing, but which Jock wanted very much.

September 16 1986
I rewrite the Config program to work under the Green Hills/Sumacc
compiler rather than the Stanford/SUMACC compiler, thus saving 4K in
disk space.

September 30 1986
I make double click work under HFS.  I make the Finder PRINT... option
work, something we had decided not to do before.  I make Logo work
with the LaserWriter and AppleTalk.  I change "Exit" to "Quit" to
conform with user requests.

October 15, 1986
I make changes in TRACE to make it more readable.

October 15 1986
I'm converting Logo to compile under the new Green Hills Compiler,
aka MPW C, which just arrived.  I turn out to have two big problems.
One is that I cannot find the assembler documentation and sputter
around for two weeks with mail to Apple.  They tell me to add the
word "extern" and tell me where to find the assembler documentation.
The other problem is that the resource compiler now takes completely
different control files and I have to redo the whole thing by hand.

November 29, 1986
I get Logo working under the enw compiler.  I add requested features
to HELP and scrolling.

November 30 1986
From a message:
    I discovered I've been missing volume 4 of Inside Mac and went out
    to buy it at Wordsworth today.  Inside Mac Volume 4 is all about the
    Mac Plus and HFS.

    Anyway, I put in the new code for PREFIX and SETPREFIX.  

I get them to work.

December 1 1986
New documentation on SETPREFIX, PREFIX, and new primitive HFS?

December 3 1986
I make the "Logo System" folder mandatory on HFS systems.

December 5 1986
I add Terrapin's address and phone number to the "About Logo..." box.
It requires some programming work to make the characters in the right
font and fit in the box.

December 7 1986
I find a bug that Alison reported in the demo program.  It was a
very obscure GC bug that dated to the conversion to double floats
in the GH compiler (a long time ago).  I also removed the .SETPORT
primitive since I couldn't get it to work.  I talked to Laurie,
and she said it was OK.  I have sent mail to Apple asking why
SerReset doesn't work for me.

December 10 1986
I give a provisional final copy to Jock.  We find bugs over the next
four days.

December 16 1986
I give a copy of Logo to Jock.  It contains all the bug fixes
from bugs found in Beta and Gamma testing and of course bugs
we found in-house.  It also incorporates features Jock, Mark, Alison,
and Laurie asked for.

Date: Mon, 22 Dec 86 11:31:31 est
From: terrapin!jock@EDDIE.MIT.EDU (J. Sheridan McClees)
Message-Id: <8612221631.AA13935@terrapin.UUCP>
To: mit-klotz

Leigh, did you get my message from yesterday?  Give me a call when
and come in when you can.  
Also, you have a message to call Seiko, 324-3076
jock

Date: Sat, 20 Dec 86 15:41:11 est
From: terrapin!jock@EDDIE.MIT.EDU (J. Sheridan McClees)
Message-Id: <8612202041.AA10704@terrapin.UUCP>
To: mit-klotz

Lleigh, can we meet monday to talk about Mac and C64.  I should be in here
on Sunday if you want to call me or come in, or call on monday.
Jock

Date: Thu, 18 Dec 86 18:22:48 est
From: terrapin!jock@EDDIE.MIT.EDU (J. Sheridan McClees)
Message-Id: <8612182322.AA07351@terrapin.UUCP>
To: mit-klotz

Leigh, we donl't have .call in MacLogo right?  As I rem;ember it, the Mac 
moves things around making it impossible.  But I got the impression from
someone that other programs on the Mac let you do the equiv of .call.
Have I got this all mixed up? 
Also, don't forget the kTerrapin party Mon. night the 29th.  If you can make

it, please let me know.
Jock

Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 6 FEB 87  08:32:23 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA29725; Fri, 6 Feb 87 08:33:26 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA20427; Wed, 28 Jan 87 16:45:48 est
Date: Wed, 28 Jan 87 16:45:48 est
From: terrapin!alsion@EDDIE.MIT.EDU (Alison Birch)
Message-Id: <8701282145.AA20427@terrapin.UUCP>
To: mit-klotz

Hi.  How was California?
I know you probably don't want to think about Terrapin, but I thought you
might like to know about a small bug I found using Logo for the Mac:

You know how typing Command-Shift-4 dumps a picture of the active window to
the LaserWriter?  Well it doesn't seem to work if I've opened a new graphics
window with a new name, closed the Turtle window, and made the new window
active.  If I make a design and then try Command-Shift-4, I get a system bomb!

(sad face)

See you sometime!
Alison.

Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 6 FEB 87  08:32:03 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA29712; Fri, 6 Feb 87 08:33:07 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA18458; Tue, 27 Jan 87 14:03:17 est
Date: Tue, 27 Jan 87 14:03:17 est
From: terrapin!laurie@EDDIE.MIT.EDU (Laurie Geannelis)
Message-Id: <8701271903.AA18458@terrapin.UUCP>
To: mit-klotz

Leigh,

I've had some time to work with Logo for the Mac and found some behaviors
with SAVE which I hope we can fix.  Primarily, when you save immediately
before selecting QUIT, it still prompts you if you want to save.  Can't
we have it know that there is nothing changed since last save and not
prompt?  Also, when you select quit and select that you want to save
before quiting, it goes out and saves, but does not quit.  You again 
select QUIT and get the dialog box about saving and the only way out is
to say NO to saving before quiting.

I also got it to crash when I simply tried to save a picture fiel
woops--file from the floppy version (12/16/86).

Laurie

Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 11 MAR 87  10:33:57 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA12025; Wed, 11 Mar 87 10:33:12 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA10457; Wed, 11 Mar 87 10:08:50 est
Date: Wed, 11 Mar 87 10:08:50 est
From: terrapin!laurie@EDDIE.MIT.EDU (Laurie Geannelis)
Message-Id: <8703111508.AA10457@terrapin.UUCP>
To: mit-klotz

*** EOOH ***
Date: Wed, 11 Mar 87 10:08:50 est
From: terrapin!laurie at EDDIE.MIT.EDU (Laurie Geannelis)
To:   mit-klotz at EDDIE.MIT.EDU

Leigh,

Sorry I wasn't here on Friday when you stopped by; I usually work at
home on Fridays since my 2 hour commute got the best of me.  To answer
your question, I will be leaving Terrapin on April 30th.  Dorothy Fitch
(author of Logo Data Toolkit) has been hired as my replacement and she's
starting April 1st.

I'll be at home this Friday as well, but if you have time on Monday or
Tuesday of next week to talk with us about the Release Notes, etc. that
would be great.  I'm leaving Weds. for a conference in San Antonio and
New Orleans and won't be back in the office until March 26th, but Alison
will be here.

FYI--per a conversation with Brian yesterday, he is stopping work on the
PRODOS Logo as he is no closer to completing than in January.  Apparently
its alot more difficult and time consuming than he thought and hasn't been
able to focus on it with Unicom, etc.  Since I never wanted to do it anyway,
I'm not that disappointed, but POed we've wasted 3 months which could have
been spent on the IBM Logo.  Oh well, you know what they say about spilled
milk...Brian says he's starting this Thursday on the IBM project full time.

Any word from Mark?

Laurie

1, recent,,
Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 6 MAR 87  02:57:25 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA23606; Fri, 6 Mar 87 02:57:12 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA00958; Fri, 6 Mar 87 00:32:42 est
Date: Fri,  6 Mar 87 00:11:12 EST
From: terrapin!MAILER-DAEMON@EDDIE.MIT.EDU (Mail Delivery Subsystem)
Subject: Returned mail: unknown mailer error 1
Message-Id: <8703060532.AA00958@terrapin.UUCP>
To: mit-eddie!@EDDIE.MIT.EDU:KLOTZ@AI.AI.MIT.EDU

*** EOOH ***
Date: Fri,  6 Mar 87 00:11:12 EST
From: terrapin!MAILER-DAEMON at EDDIE.MIT.EDU (Mail Delivery Subsystem)
To:   mit-eddie! at EDDIE.MIT.EDU:KLOTZ at AI.AI.MIT.EDU
Re:   Returned mail: unknown mailer error 1

   ----- Transcript of session follows -----
sh: /usr/tlogo/bug.mail: cannot create
sh: /usr/tlogo/bug.mail: cannot create
554 "|cat >> /usr/tlogo/bug.mail; echo >> /usr/tlogo/bug.mail"... unknown mailer error 1

   ----- Unsent message follows -----
Received: by terrapin.UUCP (4.12/4.7)
	id AA00948; Fri, 6 Mar 87 00:32:42 est
Received: from ai.ai.mit.edu by EDDIE.MIT.EDU (5.31/4.7) id AA20201; Fri, 6 Mar 87 00:11:28 EST
Date: Fri,  6 Mar 87 00:11:12 EST
From: "Leigh L. Klotz" <@EDDIE.MIT.EDU:KLOTZ@AI.AI.MIT.EDU>
Subject:  stuff
To: terrapin!laurie@EDDIE.MIT.EDU
Cc: PGS@AI.AI.MIT.EDU, terrapin!bug-tlogo@EDDIE.MIT.EDU
Message-Id: <164050.870306.KLOTZ@AI.AI.MIT.EDU>

Hi Laurie.  How much longer are you working there?  I hear you're
leaving soon...

The machine there seems to have been down.  Could you run the SETDATE
program?  Just type "setdate" in lower case and press return.  It will ask
you for the date and time, and then ask you to type "y" or something, so
give it the time 30 seconds ahead or so.  Within the minute is fine.  Thanks.

I don't know what Mark had intended to do about it, but I'd suggest
removing the ANIMAL stuff from the documentation.  I don't think anybody
seriously looks at te animal game anymore, since it's been around so long.
I believe we don't have a while lot of space left on the disk.

Patrick and I made a design decision about the pause command.  We decided
to allow pausing in the middle of things like READLIST, and in doing so we
had to make a sacrafice.  When Logo tells you it's pausing in the middle
of a READLIST, READSTRING, or READCHAR primitive, you have to give
CONTINUE an argument of what the READxxx function should return; the PAUSE
in effect terminates the read operation.  If you want to continue and
have it do the read for you, you type CONTINUE READLIST  or whatever
primitive it was.  This was documented under the CONTINUE command optional
argument at one point.  The documentation may have been flushed.

Mark put in the system.reset file in response to Beta test requests.
People wanted something like the GOODBYE command that didn't exit Logo.
Doing LOAD "SYSTEM.RESET sets up the menus and turtles like they are
initially, I believe.  If we've put the file in the Logo System folder,
then people with HFS systems will have to do 
LOAD `Logo System:System.Reset` (case is irrelevant).  I recommend you not
put it outside the Logo System folder so people won't double click on it.

There is a copy of all the BUG-TLOGO mail in the /usr/tlogo/bugs directory,
in case you want to go over any of this stuff.

If I have some time tomorrow afternoon I'll go there and try to help
with the new features list you want.

Leigh.

1, recent,,
Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 6 MAR 87  02:57:03 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA23600; Fri, 6 Mar 87 02:56:55 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA00943; Fri, 6 Mar 87 00:32:26 est
Date: Fri,  6 Mar 87 00:11:42 EST
From: terrapin!MAILER-DAEMON@EDDIE.MIT.EDU (Mail Delivery Subsystem)
Subject: Returned mail: unknown mailer error 1
Message-Id: <8703060532.AA00943@terrapin.UUCP>
To: mit-eddie!@EDDIE.MIT.EDU:KLOTZ@AI.AI.MIT.EDU

*** EOOH ***
Date: Fri,  6 Mar 87 00:11:42 EST
From: terrapin!MAILER-DAEMON at EDDIE.MIT.EDU (Mail Delivery Subsystem)
To:   mit-eddie! at EDDIE.MIT.EDU:KLOTZ at AI.AI.MIT.EDU
Re:   Returned mail: unknown mailer error 1

   ----- Transcript of session follows -----
sh: /usr/tlogo/bug.mail: cannot create
sh: /usr/tlogo/bug.mail: cannot create
554 "|cat >> /usr/tlogo/bug.mail; echo >> /usr/tlogo/bug.mail"... unknown mailer error 1

   ----- Unsent message follows -----
Received: by terrapin.UUCP (4.12/4.7)
	id AA00925; Fri, 6 Mar 87 00:32:26 est
Received: from ai.ai.mit.edu by EDDIE.MIT.EDU (5.31/4.7) id AA20224; Fri, 6 Mar 87 00:11:56 EST
Date: Fri,  6 Mar 87 00:11:42 EST
From: "Leigh L. Klotz" <@EDDIE.MIT.EDU:KLOTZ@AI.AI.MIT.EDU>
To: terrapin!bug-tlogo@EDDIE.MIT.EDU
Cc: PGS@AI.AI.MIT.EDU
Message-Id: <164051.870306.KLOTZ@AI.AI.MIT.EDU>

Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 5 MAR 87  19:45:18 EST
Received: by EDDIE.MIT.EDU (5.31/4.7) id AA14663; Thu, 5 Mar 87 19:45:12 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA11394; Thu, 5 Mar 87 12:40:17 est
Date: Thu, 5 Mar 87 12:40:17 est
From: terrapin!laurie@EDDIE.MIT.EDU (Laurie Geannelis)
Message-Id: <8703051740.AA11394@terrapin.UUCP>
To: mit-klotz

Leigh,

Alison and I are starting to update the Macintosh manual to refl;e
reflect the changes that have occured over the past year.  I know
ANIMAL does not currently exist on the disk and it is documented
currently.  Was it missed as an oversight or is there not enough
room and I should remove mention of it?

I've had calls regarding how to stop pausing once it has been
selected.  We're not clear on how it works either and would like
to clarify manual.  Could you test that it works as you wanted it
to and explain?  Thanks.

Mark's system.reset file isn't mentioned in Book 2 and I'm not sure
of its purpose besides erasing procedures from workspace--doesn't 
resize windows to original locations, etc.  How would you best explain
what it should be used for if at all?

gAl

Alison and I have also talked about creating "Release Notes" to go along
with the newer version as well as sending them to people who bought the
PreRelease version and want to update to the 12/16/86 version.  If you
are receptive to the idea, we'd like to include any ideas you have and
peruse the document when its done.  Thanks.

Laurie

Date: Tue, 21 Oct 86 16:09:48 edt
From: terrapin!laurie at EDDIE.MIT.EDU (Laurie Geannelis)
To:   mit-klotz at EDDIE.MIT.EDU

Leigh,

Could we set up a time for you to come in and meet with Jock and I
Re: Wrapping up the Mac project and discussing if you would be
available at all over the next two months to tutor Alison (primarily) and
I on the Macintosh Logo.  Jock was receptive to paying you as an employee
as he's done in the past for being available for questions, etc.

I will be out of the office Friday and Weds thru Friday of next week.
Thanks.

Laurie

Date: Thu, 25 Sep 86 16:32:01 edt
From: terrapin!laurie@EDDIE.MIT.EDU (Laurie Geannelis)
To: mit-klotz

Leigh,

As of today, we have less than 10 MacLogo disks from that first duplication.
In light of some of the things Alison has found recently, primarily just the
window problem, and whatever work you may have done of late, do you want to
update the master on the hard disk again?

Let me know; otherwise I will use Logo 9/22/86 from the hard disk.

Thanks.  Laurie
Received: from jade.berkeley.edu (TCP 20010104011) by AI.AI.MIT.EDU 25 Mar 87 19:38:04 EST
Received: from lapis.berkeley.edu
	by jade.berkeley.edu (5.54 (CFC 4.22.3)/1.16.12)
	id AA00271; Wed, 25 Mar 87 15:02:40 PST
Received: by lapis.Berkeley.Edu (4.20/5.9)
	id AA27590; Wed, 25 Mar 87 14:39:00 pst
Date: Wed, 25 Mar 87 14:39:00 pst
From: laurieed%lapis.Berkeley.EDU@BERKELEY.EDU (Laurie Edwards)
Message-Id: <8703252239.AA27590@lapis.Berkeley.Edu>
To: KLOTZ@ai.ai.mit.edu, laurieed%lapis.Berkeley.EDU@BERKELEY.EDU
Subject: dots ....

*** EOOH ***
Date: Wed, 25 Mar 87 14:39:00 pst
From: laurieed%lapis.Berkeley.EDU at BERKELEY.EDU (Laurie Edwards)
To:   KLOTZ at ai.ai.mit.edu, laurieed%lapis.Berkeley.EDU at BERKELEY.EDU
Re:   dots ....

Hi Leigh-

I thought about the 8-pixel solution, but initially I wanted dots spaced
10 pixels apart, and after trying it out, decided that 20 was the best.
So the turtle pattern won't work.  What I've ended up doing, after
your advice, was creating the grid, saving to a PICT file, and
loading and snapping it once at the beginning of the game.  Thatt
seems to work well so far. The only other thing that's works a
little slowly is a similar problem in which I'm using "fillsh"
to refill a target shape after each move, which is working ok
as of now (it's hard to describe these things in e-mail).

I'm about to try converting my programs to run in Terripin Logo
on the Apple II, since that's what the kids have at school  (this
is all stuff for my thesis, looking at how kids can learn
transformation geometry with a microworld).  Wish me luck! You
may be hearing from me again if I have problems making the
switch.

Thanks,
	Laurie

1, recent,,
Received: from EDDIE.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 25 MAR 87  20:35:05 EST
Received: by EDDIE.MIT.EDU with UUCP with smail2.3 with sendmail-5.31/4.7 id <AA14432@EDDIE.MIT.EDU>; Wed, 25 Mar 87 20:34:02 EST
Received: by terrapin.UUCP (4.12/4.7)
	id AA06572; Wed, 25 Mar 87 11:52:48 est
Date: Wed, 25 Mar 87 11:52:48 est
From: terrapin!alsion@EDDIE.MIT.EDU (Alison Birch)
Message-Id: <8703251652.AA06572@terrapin.UUCP>
To: mit-klotz

*** EOOH ***
Date: Wed, 25 Mar 87 11:52:48 est
From: terrapin!alsion at EDDIE.MIT.EDU (Alison Birch)
To:   mit-klotz at EDDIE.MIT.EDU

Hi Leigh.

I have a few minor questions to ask you regarding the Mac Doc that would
probably be easier to ask over the phone, so I'll try to call you (and not
wake you up this time) if that's okay or you can give me a call here if it
will be easier for you to get in touch with me than me with you.  Okay?

Thanks.
Alison.

1, recent,,
Received: from jade.berkeley.edu (TCP 20010104011) by AI.AI.MIT.EDU 21 Mar 87 14:55:56 EST
Received: from lapis.berkeley.edu
	by jade.berkeley.edu (5.54 (CFC 4.22.3)/1.16.12)
	id AA29500; Sat, 21 Mar 87 11:54:15 PST
Received: by lapis.Berkeley.Edu (4.20/5.9)
	id AA01710; Sat, 21 Mar 87 11:54:16 pst
Date: Sat, 21 Mar 87 11:54:16 pst
From: laurieed%lapis.Berkeley.EDU@BERKELEY.EDU (Laurie Edwards)
Message-Id: <8703211954.AA01710@lapis.Berkeley.Edu>
To: KLOTZ@ai.ai.mit.edu, laurieed%lapis.Berkeley.EDU@BERKELEY.EDU
Subject: Terrapin

*** EOOH ***
Date: Sat, 21 Mar 87 11:54:16 pst
From: laurieed%lapis.Berkeley.EDU at BERKELEY.EDU (Laurie Edwards)
To:   KLOTZ at ai.ai.mit.edu, laurieed%lapis.Berkeley.EDU at BERKELEY.EDU
Re:   Terrapin

Leigh-

Thanks for the quick response and advice.  When I lost some of my 
procedures, I was using the Save Workspace choice from the menu.

I'll try doing SAVEPICT as you suggested (unless you have any better
ideas on how to keep a grid of dots in the background other than
re-STAMPing them between changes).

Thanks again,
	Laurie

1, recent,,
Received: from MC.LCS.MIT.EDU (CHAOS 3131) by AI.AI.MIT.EDU 19 Mar 87 18:56:17 EST
Received: from jade.berkeley.edu (TCP 20010104011) by MC.LCS.MIT.EDU 19 Mar 87 18:59:32 EST
Received: from lapis.berkeley.edu
	by jade.berkeley.edu (5.54 (CFC 4.22.3)/1.16.12)
	id AA25857; Thu, 19 Mar 87 14:48:53 PST
Received: by lapis.Berkeley.Edu (4.20/5.9)
	id AA29317; Thu, 19 Mar 87 14:48:26 pst
Date: Thu, 19 Mar 87 14:48:26 pst
From: laurieed%lapis.Berkeley.EDU@BERKELEY.EDU (Laurie Edwards)
Message-Id: <8703192248.AA29317@lapis.Berkeley.Edu>
To: klotz@mc.lcs.mit.edu
Subject: Terrapin Logo problem

*** EOOH ***
Date: Thu, 19 Mar 87 14:48:26 pst
From: laurieed%lapis.Berkeley.EDU at BERKELEY.EDU (Laurie Edwards)
To:   klotz at mc.lcs.mit.edu
Re:   Terrapin Logo problem

Hi Leigh-
(I met you when you we're out here on the elevator with Andy di Sessa once -
I'm a sesame student, just so this question isn't coming out of thin air!)

I've been using Terrapin Logo to write a game for transformational geometry,
and I've had problems on two occasions with saving.  The first time, I
saved using the pull-down menu onto a second disk in the external drive,
and later discovered about 2/3's of my procedures were gone.  The only
thing I could think of was that I might havelicked the mouse on
some other menu item (like Exit) while it was still trying to Save.

The more recent problem happened yesterday.  I'd just figured out how
to get a grid to stay on the screen by stamping it in penmode 1.  Then
I realized, after saving normally, that the "grid" didn't get saved.
So I tried to use "saveshapes" to save it like a turtle shape (it wasn't
a turtle shape, though - I created it just by saying:
something like: make "grid snap 332 368).  This had the unfortunate 
result of trashing my data disk completely (ie "this disk is unreadable").
I have a back up, but not of the work I did to make the grid, etc.
It won't be hard to regenerate that, but I'd like to find out if there
is actually a way to save such a shape, and the best way to use it.
(By the way, I first tried making a dotted line as a turtle, but
it flickered when I moved my other shapes around).

So... any advice you could offer would be great.  If the answer is
complicated, I'd be glad to call you to talk about it, just send
me your phone number and a good time to call (mine is 415-849-0834 at
home or 642-9975 at school).  I'm using a logo that Andy ordered,
but I don't know if there's been a more recent release (with
safer "saving"?) - if so, could you let me know how to 
order it.  I should say I really enjoy using Terrapin Logo!

Thanks,
	Laurie Edwards
