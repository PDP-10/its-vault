matrixify(list) := transpose(matrix(list));

solve_a(mat, constants) :=
   block([new_mat],
         new_mat:addcol(matrixify(constants),
	 		submatrix(mat,1)),
         determinant(new_mat)/determinant(mat))$



matrix([[-(g1+g2+g3), g3, g1],
        [d3, -(g3+g4), g4],
        [g1, g4, -(g1+g2+g4)]])$

s:[i,0,v-i]$
