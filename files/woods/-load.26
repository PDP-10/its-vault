 (DECLARE (SPECIAL WRITE-FILE SAVE-ERRLIST WRITE-GARBAGE))

(PROGN 
(SETQ ***** '*)					    ;PROTECT LOSING * FROM GARBAGE GENERATOR
(REMOB '*)						;GODDAMNED BREAK LUPS CLOBBER *
(SETPLIST '* (PLIST *****))				;SAVE PROPERTY FUNCTION, NEW *

(SETPLIST '*SUSPEND* (APPEND (PLIST 'SUSPEND) NIL))
		;WOODS REDEFINES SUSPEND, BUT I NEED IT LATER
(ALLOC '(LIST (160000 160000 NIL) FIXNUM (20000 20000 NIL)
	SYMBOL (20000 20000 NIL)))

(SETQ LOWCOR (PAGEBPORG))
(SETQ PURE 1)		;PAGE FOR UUOLINKS
(*RSET T)
(NOUUO T)


(DEFUN LOAD-IT FEXPR (FILE)
       (PROG (BB BASE)
	     (SETQ BB BPORG BASE 10.)
	     (LOAD FILE)
	     (PRINT FILE)
	     (PRINC (- BPORG BB))
	     (PRINC '/ WORDS/,/ )
	     (PRINC (- BPORG LOWCOR))
	     (PRINC '/ SO/ FAR/.)))

(LOAD-IT +SOME FASL)
(LOAD-IT +PARSE FASL)
(LOAD-IT +EXEC FASL)
(LOAD-IT +LEX FASL)
(LOAD-IT +SEM FASL)
(LOAD-IT +EQUIV FASL)
(LOAD-IT +ATN FASL)
(LOAD-IT +RULES FASL)
;(LOAD-IT -IO FASL)

(SETQ GC-DAEMON '(LAMBDA (X) (SETQ GC-SPECS X)))
(GC)
(SETQ GC-DAEMON NIL)

(DEFUN HOW-MUCH (SPACE)
 (PROG (BASE)
 (SETQ BASE 10.)
 (TERPRI)
 (PRINC SPACE)
 (PRINC '/ USED=)
 (PRINC (- (STATUS SPCSIZE SPACE) (CADDR (ASSQ SPACE GC-SPECS))))
 ))
(HOW-MUCH 'LIST)

(SETQ PURE NIL)
(SETQ HICOR (PAGEBPORG))

(SETQ USERFLAG NIL
      DICTIONARY NIL
      DICTFILEBEG 0
      DICTFILE '(DICT > DSK WOODS)
      DICTFETCHFAILS NIL
      WOODS-DICTIONARY-FILE NIL 
      GLOBALVARS NIL
      FILEFNS NIL
      UFNS NIL
      READBUF NIL
      QUANT NIL 
      REPARSE NIL
      SIFLAG NIL
      DISCRULES '((NRULES . N:SAMPLE))
      IDIOTFLAG NIL 
      EDO NIL
      IDO T
      MCATEGORIES '(ADJ ADV DET N NEG NPR PASTPART PREP PRESPART 
		    PUNCT QDET QWORD V)
      SEMU '(DLT)
      LISPXHISTORY NIL
      MAXTIME NIL 
      TRACE T
      WOODS-DICTIONARY-FILE NIL
      WRITE-FILE NIL
      BASE 10.
      IBASE 10. 
      WRITE-GARBAGE T)		;FOR SOME REASON
)


(DEFUN BITS
       NIL
       ((LAMBDA (BASE *NOPOINT ^W MONTHS)
		(PROG (TEM)
		      (COND (WRITE-GARBAGE 
			     (SETQ WRITE-FILE (OPEN '|^WOODS > DSK WOODS| 'OUT)
				   OUTFILES (CONS WRITE-FILE OUTFILES)
		       ;;;	   MSGFILES (CONS WRITE-FILE MSGFILES)
				   ECHOFILES (CONS WRITE-FILE ECHOFILES)
				   ^R T)))
		      (SSTATUS ABBREVIATE 1)	;PRINLEVEL FOR FILES
		      (LINEL WRITE-FILE 95.)
		      (PRINT (STATUS UNAME))
		      (PRINC '/ -/ )
		      (PRINC (CAR (SETQ TEM (STATUS DAYTIME))))
		      (PRINC '/:)
		      (PRINC (CADR TEM))
		      (PRINC '/.)
		      (PRINC (CADDR TEM))
		      (PRINC '/ )
		      (PRINC (CAR (NTH MONTHS (CADR (SETQ TEM (STATUS DATE))))))
		      (PRINC '/ )
		      (PRINC (CADDR TEM))
		      (PRINC '/,/ /1/9)
		      (PRINC (CAR TEM))
		      (TERPRI)
))
	10.
	T
	T
	'(JANUARY FEBRUARY
		  MARCH
		  APRIL
		  MAY
		  JUNE
		  JULY
		  AUGUST
		  SEPTEMBER
		  OCTOBER
		  NOVEMBER
		  DECEMBER)))

(SETQ ERRLIST '((BITS)
		(TERPRI)
		(PRINC '|(TYPE SENTENCE WITHIN PARENTHESES.)|)
		(SETQ WOODS-DICTIONARY-FILE NIL)
		(SETQ ERRLIST '(
		      (TERPRI)
		      (TALKER NIL)))
		(TERPRI)
		(TALKER NIL))
      SAVE-ERRLIST ERRLIST)

(DEFUN DUMP NIL
       (AND WOODS-DICTIONARY-FILE (CLOSE WOODS-DICTIONARY-FILE))
       (SUSPEND-GARBAGE)
       (SETQ ERRLIST SAVE-ERRLIST
	     WOODS-DICTIONARY-FILE NIL
	     )
       (GC)
       (*SUSPEND*)
       (^G))

(DEFUN STOP-GARBAGE NIL (SUSPEND-GARBAGE) (SETQ WRITE-GARBAGE NIL))

(DEFUN SUSPEND-GARBAGE NIL 
       (AND WRITE-FILE (CLOSE WRITE-FILE))
       (SETQ OUTFILES (DELQ WRITE-FILE OUTFILES)
	     MSGFILES (DELQ WRITE-FILE MSGFILES)
	     ECHOFILES (DELQ WRITE-FILE ECHOFILES)
	     ^R NIL
	     WRITE-FILE NIL))

