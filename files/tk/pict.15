.mllit==1
TITLE PICTURE DISPLAY

;OUTPUTS ON TV'S THE STANFORD FORMAT TV PICTURES

; word 0: -1
; word 1: bits per pixel
; word 2: words per line
; word 3: number of first data row
; word 4: ... last row
; word 5: ... first column
; word 6: ... last column
; word 7: <-word count of data portion (not header)>,,200
; data portion starts in word 200.

A=1
B=2
C=3
D=4
E=5
F=6
P=17
tv==100*2000	;address of beg of tv buffer
tvend==100*2000+10*2000-1


BEG:	MOVEI P,PDL
	MOVE A,[-10,,100]
	MOVEI B,0
	.CALL [SETZ
		SIXBIT /CORBLK/
		1000,,600000
		1000,,-1
		A
		1000,,-2
		SETZ B]
	.VALUE
	.suset [.rcnsl,,a]
	.call [setz
		sixbit \tvwher\
		  1000,,400000(a)
		  2000,,a
		402000,,a ]
	 .value
	lsh a,24
	tlo a,36000
	.suset [.stvcreg,,a]
	movei a,200000
	movem a,tvend
	pushj p,clr
	pushj p,write
	setzm x'
	setzm y'
	movei f,movie
movlp:	skipn a,(f)
	jrst movend
	.sleep a,
	hlre a,1(f)
	addb a,x
	hrre b,1(f)
	addb b,y
	imuli b,9
	add a,b
	dpb a,[041400,,tvend]
	addi f,2
	jrst movlp

movend:	movei a,0
	dpb a,[041400,,tvend]
	.break 16,124000		;DO IT RIGHT! - GLS

movie:	repeat 4,[  7. ? 1,,100 ? 1. ? 1,,-100 ? ]
	0
	block 100

clr:	movsi f,-10*2000+1
	move a,[setzm tv(f)]
	move b,[aobjn f,a]
	move c,[jrst clr1]
	jrst a

clr1:	popj p,

set:	movsi f,-10*2000+1
	movni e,20
	move a,[movem e,tv(f)]
	move b,[aobjn f,a]
	move c,[jrst set1]
	jrst a

set1:	popj p,

write:	movei a,bitend-5
	move b,tvs
wr2:	hrli b,-5
wr1:	move c,(a)
	lsh c,4
	movem c,tv(b)
	aos a
	aobjn b,wr1
	subi a,10.
	addi b,13.
	caile a,bits
	jrst wr2
	popj p,

bits:	0.
	14336.
	0.
	0.
	0.
	
	0.
	31744.
	0.
	0.
	2147483648.
	
	0.
	31521792.
	0.
	1.
	3758096384.
	
	0.
	66124800.
	0.
	1.
	4227858432.
	
	0.
	267451904.
	0.
	1.
	4227858432.
	
	0.
	267451904.
	0.
	1.
	4227858432.
	
	0.
	267452160.
	0.
	3.
	4227891200.
	
	0.
	267452160.
	0.
	3.
	4228366336.
	
	0.
	267451904.
	0.
	2033.
	4232044544.
	
	1015808.
	32570880.
	0.
	2041.
	4164935680.
	
	1032192.
	7405056.
	128.
	4088.
	4164939776.
	
	2131214336.
	8386560.
	992.
	4088.
	2021650432.
	
	2139353088.
	8372224.
	8128496.
	4088.
	2021650432.
	
	1065613312.
	3229597696.
	16648176.
	4088.
	2088755200.
	
	528612353.
	4034888640.
	16647152.
	4088.
	1015005184.
	
	264502279.
	4294951904.
	33425392.
	2044.
	1056899072.
	
	58850823.
	4294963072.
	33489392.
	1020.
	1073610752.
	
	25296387.
	4291821312.
	33489376.
	1022.
	536739840.
	
	12844032.
	4287102464.
	16712160.
	1023.
	4294705152.
	
	8387584.
	4278713856.
	16712160.
	1610613759.
	4294705152.
	
	8386560.
	523776.
	8323568.
	4160750079.
	4294705152.
	
	2088761344.
	523776.
	4162043.
	4227858943.
	4294705152.
	
	4294963200.
	523776.
	1033215.
	4227858432.
	4294705152.
	
	2147479552.
	524272.
	100351.
	4227858432.
	2147352576.
	
	2147481600.
	1048560.
	65535.
	4227858432.
	2147352576.
	
	2147483520.
	1048568.
	65535.
	4160749568.
	1073676288.
	
	1073741696.
	950270.
	65535.
	4026531840.
	1073739776.
	
	1044381568.
	802812.
	65535.
	4026531840.
	1073737728.
	
	2097120.
	540668.
	65535.
	4290772992.
	1073733632.
	
	2097120.
	802808.
	4194303.
	4293918720.
	1073725440.
	
	1048544.
	1851384.
	4194303.
	4294443008.
	1073676288.
	
	1048544.
	1851376.
	16777215.
	4294443008.
	1073610752.
	
	524224.
	1982456.
	16777215.
	4294443008.
	2147418112.
	
	524224.
	1982456.
	918527.
	4294443008.
	2147475456.
	
	262016.
	4161504.
	511.
	4293918720.
	4294959104.
	
	262112.
	2064256.
	255.
	4293918720.
	4294950912.
	
	131056.
	2096896.
	255.
	4286578689.
	4294950912.
	
	131056.
	2096640.
	255.
	4160749571.
	4294934528.
	
	65520.
	1900032.
	127.
	4026531847.
	4294901760.
	
	65520.
	65280.
	127.
	4026531855.
	4294959104.
	
	65520.
	131056.
	127.
	4026531871.
	4294959104.
	
	32760.
	131040.
	127.
	3758096511.
	4294959104.
	
	32760.
	67108800.
	255.
	3758096639.
	4294950912.
	
	32760.
	134217664.
	255.
	3758096895.
	4294934528.
	
	32760.
	536870904.
	255.
	3221258239.
	4294901760.
	
	32760.
	1073741816.
	511.
	4194303.
	4294901760.
	
	16352.
	2147483632.
	1022.
	16777215.
	4294963200.
	
	16321.
	4294967264.
	2046.
	67108863.
	4294959104.
	
	16135.
	4294966784.
	2046.
	134217727.
	4294950912.
	
	7183.
	4294963200.
	4094.
	268435455.
	4294934528.
	
	31.
	4294950912.
	4094.
	536870911.
	4294836224.
	
	63.
	4294934528.
	4092.
	536870911.
	4294705152.
	
	63.
	4294934528.
	4092.
	536870911.
	4294705152.
	
	127.
	4294934528.
	2044.
	1073741823.
	4294836224.
	
	255.
	4294934528.
	2040.
	1073741823.
	4294836224.
	
	255.
	4294934528.
	2032.
	2147483647.
	4286578688.
	
	511.
	4294934528.
	2016.
	2147483647.
	4227858432.
	
	16355.
	4294950912.
	992.
	2147483647.
	4160749568.
	
	32707.
	3825188864.
	992.
	4294967295.
	3758096384.
	
	32707.
	3791634432.
	992.
	4294967295.
	3221225472.
	
	32707.
	3237994496.
	448.
	4294967295.
	2147483648.
	
	32512.
	16769024.
	1.
	4294967295.
	0.
	
	32256.
	8380416.
	1.
	4294967292.
	0.
	
	15872.
	8384512.
	1.
	4294967288.
	0.
	
	31744.
	4190208.
	1.
	4294967280.
	0.
	
	64512.
	101185536.
	3.
	4294967264.
	0.
	
	129024.
	117700615.
	2147489795.
	4294967264.
	0.
	
	61440.
	117701635.
	3221225479.
	4294967264.
	0.
	
	0.
	126090243.
	3221225479.
	4294967232.
	0.
	
	0.
	125959231.
	3758096399.
	4294967232.
	0.
	
	524320.
	125959231.
	3758096415.
	4294967232.
	0.
	
	1836024.
	125959199.
	3758096447.
	4294967232.
	0.
	
	1837048.
	2407595023.
	3758096447.
	4294967232.
	0.
	
	1967097.
	2407545871.
	3758096511.
	4294967232.
	0.
	
	2032635.
	3749722119.
	4026532095.
	4294967232.
	0.
	
	2032639.
	4292884495.
	3758096895.
	4294967168.
	0.
	
	2065407.
	4293922879.
	3758097407.
	4294967168.
	0.
	
	4178943.
	4293923071.
	4026535935.
	4294967168.
	0.
	
	4186623.
	4293918975.
	4026793983.
	4294967168.
	0.
	
	4186623.
	4293918847.
	4037017599.
	4294967040.
	0.
	
	8385535.
	4292870271.
	4093640703.
	4294967040.
	0.
	
	8385535.
	4292870271.
	4294967295.
	4294967040.
	0.
	
	8388607.
	4290781311.
	4294967295.
	4294967040.
	0.
	
	16777215.
	4294848639.
	4294967295.
	4294966784.
	0.
	
	16777215.
	4294910207.
	4294967295.
	4294966784.
	0.
	
	16777215.
	4294849023.
	4294967295.
	4294966272.
	0.
	
	16777215.
	4294852607.
	4294967295.
	4294965248.
	0.
	
	16777215.
	4294721535.
	4294967295.
	4294963200.
	0.
	
	16777215.
	4294713343.
	4294967295.
	4294963200.
	0.
	
	16777215.
	4294905855.
	4294967295.
	4294966784.
	0.
	
	33554431.
	4294952959.
	4294967295.
	4294967280.
	0.
	
	16777215.
	4294938623.
	4294967295.
	4294967294.
	0.
	
	16777215.
	4294844415.
	4294967295.
	4294967295.
	3221225472.
	
	16777215.
	4294721535.
	4294967295.
	4294967295.
	4160749568.
	
	16777208.
	1073496063.
	4294967295.
	4294967295.
	4261412864.
	
	8388592.
	536616959.
	4294967295.
	4294967295.
	4286578688.
	
	8388592.
	536809471.
	4294967295.
	4294967295.
	4290772992.
	
	4194295.
	4294951935.
	4294967295.
	4294967295.
	4292870144.
	
	2097095.
	4294951039.
	4294836224.
	16383.
	4293918720.
	
	2097127.
	4294934543.
	4261412864.
	1.
	4294443008.
	
	2097135.
	4294934528.
	0.
	0.
	536608768.
	
	2097151.
	4294901760.
	0.
	0.
	268173312.
	
	2097119.
	3892248576.
	0.
	0.
	66977792.
	
	2097039.
	3791585280.
	0.
	0.
	66977792.
	
	2096655.
	3229548544.
	0.
	0.
	33488896.
	
	2096135.
	4161536.
	0.
	0.
	16711680.
	
	2095104.
	521134080.
	0.
	0.
	16711680.
	
	2093056.
	1070063616.
	0.
	0.
	16711680.
	
	2093552.
	2147475456.
	0.
	0.
	16711680.
	
	2081784.
	2147467264.
	0.
	0.
	33521664.
	
	2091004.
	2147467264.
	0.
	0.
	33521664.
	
	2097148.
	2147450880.
	0.
	0.
	33488896.
	
	2097136.
	2147479552.
	0.
	0.
	67043328.
	
	2097136.
	1073737728.
	0.
	0.
	134152192.
	
	2097136.
	1073737728.
	0.
	0.
	536805376.
	
	2097138.
	1073733632.
	0.
	1.
	4294836224.
	
	2097139.
	1073733632.
	32767.
	4294967295.
	4294836224.
	
	8388595.
	1073737728.
	4194303.
	4294967295.
	4294705152.
	
	16777207.
	1073739776.
	134217727.
	4294967295.
	4294705152.
	
	8388599.
	1073741312.
	536870911.
	4294967295.
	4293918720.
	
	8388598.
	1073741312.
	2147483647.
	4294967295.
	4293918720.
	
	8388594.
	1073739777.
	4294967295.
	4294967295.
	4290772992.
	
	8388578.
	1073737731.
	4294447103.
	4294967295.
	4278190080.
	
	33554400.
	1073737735.
	4290773247.
	4294967295.
	3221225472.
	
	67108834.
	2147481615.
	4278190207.
	4169138048.
	0.
	
	33427430.
	943717391.
	4261412895.
	4034920192.
	0.
	
	33293286.
	1047583.
	4160749583.
	4034920192.
	0.
	
	16646159.
	523295.
	4160749580.
	3933696.
	0.
	
	16646159.
	59242527.
	4026531840.
	0.
	0.
	
	33488911.
	59242559.
	3758096384.
	0.
	0.
	
	33521695.
	2149579839.
	3221225472.
	0.
	0.
	
	8372255.
	2151676959.
	3221225472.
	0.
	0.
	
	4186623.
	3766484511.
	2147483648.
	0.
	0.
	
	2097151.
	4294965311.
	2147483648.
	0.
	0.
	
	4194303.
	4294959167.
	2147483648.
	0.
	0.
	
	4194303.
	4294965311.
	2147483648.
	0.
	0.
	
	8388607.
	4294966335.
	2147483648.
	0.
	0.
	
	8388607.
	4294966847.
	2147483648.
	0.
	268304384.
	
	8388607.
	4294966847.
	2147483648.
	0.
	1073709056.
	
	1048575.
	4294965375.
	3221225612.
	0.
	4294959104.
	
	1048575.
	4294965311.
	3221225983.
	3.
	4294963200.
	
	1048575.
	4294966335.
	3221241855.
	7.
	4294965248.
	
	524287.
	4294963263.
	3758112767.
	2147483679.
	4294966272.
	
	524287.
	4294959135.
	3758620671.
	2147483711.
	4294966784.
	
	524287.
	4294950943.
	4028628991.
	2147483903.
	3758620160.
	
	2097151.
	4294950927.
	4162846719.
	2147484671.
	3221257728.
	
	2097151.
	4294959111.
	4229955583.
	3221233663.
	2147516160.
	
	2097151.
	4294966275.
	4294967295.
	4265607167.
	2147499776.
	
	524287.
	4294966785.
	4294967295.
	4294967295.
	2147486720.
	
	131071.
	4294850560.
	2147483647.
	4294967295.
	4294705152.
	
	131071.
	4294705152.
	536870911.
	4294967295.
	4294901760.
	
	16383.
	4294705152.
	134217727.
	4294967295.
	4294950912.
	
	8191.
	4294705152.
	16777215.
	4294967295.
	4294959104.
	
	4095.
	4294836224.
	1048575.
	4294967295.
	4294963200.
	
	8191.
	4294934528.
	4095.
	4294966272.
	1073739776.
	
	8191.
	4232019968.
	0.
	0.
	67106816.
	
	3647.
	4164878336.
	0.
	0.
	33552384.
	
	7199.
	4162715648.
	0.
	0.
	8387584.
	
	31.
	4160749568.
	0.
	0.
	4193280.
	
	31.
	4227858432.
	0.
	0.
	4192256.
	
	0.
	2080374784.
	0.
	0.
	2095104.
	
	0.
	0.
	0.
	0.
	2056192.
	
	0.
	0.
	0.
	0.
	786432.
bitend:

tvs:	11675
pat:	block 200
pdl:	block 100

end beg
