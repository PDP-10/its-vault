;-*-stl-*-

(declare (eval (read)))
(or (memq 'stl (status features)) (load '((dsk stl) base)))

(global-open ((sca) rjf))

(global-read ((sca) mpoly))

(stlchar)

(defmode *poly*
	 (mode fixnum (fixnum var) (fixnum var prin1 nil))
	 (tdeclare (var i))
	 (constant base var [0])
	 (defun base? (i) *boolean* [0? i])
	 (defun prin1 (i) any (princ 'V) (princ i))
	 (mode mpoly (coef *integer* qrc *qri*))
	 (defun foo () poly [^ [+ [poly [var 1]] [poly [var 2]]] 12])
	 (defun bar () poly
		[^ [+ [poly [var 1]] [poly [var 2]] [poly [var 3]]] 20])
	 (ret-check (ordered-ringc1 poly)))

(mode *poly* *poly*)

(global-close)
