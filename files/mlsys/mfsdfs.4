
;FILE SYSTEM PARAMETERS

;PHYSICAL CHARACTERISTICS
NCYLS==200.	;# CYLINDERS NORMALLY USED
XCYLS==3	;# EXTRA CYLINDERS FOR SPARES, HACKS, ETC.
NHEDS==22.	;# TRACKS/CYLINDER (REALLY = (20.*10.)/9)
NSECS==1	;# SECTORS/TRK
SECBLK==1	;# SECTORS/BLOCK

;FORMAT
	;HARDWARE:
	;	20. TRACKS PER CYLINDER
	;	10. SECTORS PER TRACK
	;SOFTWARE
	;	9 SECTORS PER BLOCK OF WHICH FIRST EIGHT SECTORS
	;	CONTAINS 2000 WDS OF DATA AND
	;	FIRST NXWDS OF LAST SECTOR CONTAIN RETRIEVAL INFO.

NSSECS==9	;#HARDWARE SECTORS PER SOFTWARE BLOCK
NHSECS==10.	;#HARDWARE SECTORS PER HARDWARE TRACK
NCBLKS==NHEDS*NSECS/SECBLK	;# BLKS/CYL
NBLKS==NCYLS*NCBLKS	;TOTAL # REG BLKS
XBLKS==XCYLS*NCBLKS	;# XTRA BLKS

;MFD INFO
MFDBLK==NBLKS/2-1	;LOC ON DISK
	;RANDOM INFO
	MDNUM==0	;ASCENDING DIR NUM
	MDNAMP==1	;PNTR TO ORG OF NAME AREA
	MDYEAR==2	;CURRENT YEAR
	MPDOFF==3	;DE-CORIOLIS CLOCK OFFSET
	MPDWDK==4	;PREFERED DISK TO WRITE ON (PHYSICAL #)
	MDCHK==5	;THIS WORD MUST BE M.F.D. (FOR CHECKING)
	LMIBLK==6	;TOTAL STG USED BY HACKS LIKE THIS
	;USER NAME BLKS FROM C(MDNAMP) TO END
	LMNBLK==2	;# WDS/BLK
	MNUNAM==0	;6BIT USER NAME

;TUT INFO
TUTBLK==MFDBLK-1	;LOC ON DISK
TUTBYT==4	;SIZE OF BYTES
	TUTBP==440000+TUTBYT_6,,
	TUTEPW==36./TUTBYT
TUTLK==1_<TUTBYT>-1	;HIGHEST CODE MEANS LOCKED OUT
QTUTP==1777	;ALLOC PNTR ADV BY CYLS
QPKNUM==1776	;PACK #
QPKID==1775	;PACK ID
QSWAPA==1774	;SWAPPING ALLOCATION
LTIBLK==4	;STG FOR RANDOM INFO ^

;UFD INFO
NUDSL==200.	;# UFDS SPACE RESERVED
	;RANDOM INFO
	UDESCP==0	;FS PNTR TO DESC AREA
	UDNAMP==1	;PNTR TO ORG OF NAME AREA
	UDNAME==2	;USER NAME (FOR CHECKING)
	UDDESC==11.	;FIRST LOC AVAIL FOR DESC
	;UFD DESCRIPTORS
	UDTKMX==12.	;HIGHEST "TAKE N" CODE
	UDWPH==31.	;PLACE HOLDER ON WRITE (OR NULL FILE)
	NXLBYT==2	;# ADDITIONAL BYTES FOR LOAD ADDR
	;NAME AREA DATA
	LUNBLK==5	;WDS/NAME BLK
	UNFN1==0	;FIRST FN
	UNFN2==1	;SECOND FN
	UNRNDM==2	;ALL KINDS OF RANDOM INFO
		UNDSCP==1500,,	;PNTR TO DESC
		UNPKN==150500,,	;PACK #
		UNLINK==1	;LINK BIT
		UNWRIT==4	;OPEN FOR WRITING
		UNMARK==10	;GC MARK BIT
		UNCDEL==20	;DEL WHEN CLOSED
		UNPDEL==40	;DEL FROM UNMOUNTED PACK
		DELBTS==UNCDEL+UNPDEL	;DELETED -- IGNORE
		UNIGFL==DELBTS+UNWRIT	;BITS TO IGNORE FILE
		UNDBLK==301300,,	;BLK # DESC BLK (0 => NONE)
		UNDUMP==400000	;HAS BEEN DUMPED
	UNDATE==3	;DATE ETC.
		UNYMD==1200,,	;COMPACTED TIME OF CREATION
		UNREFT==121000,,	;DAYS SINCE CREATION LAST REF
;EXTRA WORDS IN DATA BLOCKS
NXWDS==4	;# XTRA WDS
BLKSIZ==2000		;EXTRA WORDS ARE DRAWN OUT OF THE BLOCK

	XWBLK==1700,,		;BP TO PREV BLK # IN FILE FLD
	XWAWC==171200,,	;BP TO ACTIVE WD CNT
XWSYSN==1
XWFN1==2
XWFN2==3

IF1 [
IFG NUDSL*LMNBLK+LMIBLK-2000,[PRINTX /MFD LOSES
/]
IFG NBLKS/<36./TUTBYT>+LTIBLK-2000,[PRINTX /TUT LOSES
/]
]
